



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Práctica 12: Programación Orientada a Objetos en Swift (2) - LPP</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#practica-12-programacion-orientada-a-objetos-en-swift-2" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="LPP" class="md-header-nav__button md-logo">
          
            <img src="../../imagenes/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              LPP
            </span>
            <span class="md-header-nav__topic">
              
                Práctica 12: Programación Orientada a Objetos en Swift (2)
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="LPP" class="md-nav__button md-logo">
      
        <img src="../../imagenes/logo.png" width="48" height="48">
      
    </a>
    LPP
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Teoría
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Teoría
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema00-descripcion-asignatura/tema00-descripcion-asignatura.html" title="Descripción de la asignatura" class="md-nav__link">
      Descripción de la asignatura
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema01-historia-lenguajes-programacion/tema01-historia-lenguajes-programacion.html" title="Tema 1: Historia de los lenguajes de programación" class="md-nav__link">
      Tema 1: Historia de los lenguajes de programación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema02-programacion-funcional/tema02-programacion-funcional.html" title="Tema 2: Programación funcional" class="md-nav__link">
      Tema 2: Programación funcional
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema03-procedimientos-recursivos/tema03-procedimientos-recursivos.html" title="Tema 3: Procedimientos recursivos" class="md-nav__link">
      Tema 3: Procedimientos recursivos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema04-estructuras-recursivas/tema04-estructuras-recursivas.html" title="Tema 4: Estructuras recursivas" class="md-nav__link">
      Tema 4: Estructuras recursivas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema05-programacion-funcional-swift/tema05-programacion-funcional-swift.html" title="Tema 5: Programación funcional con Swift" class="md-nav__link">
      Tema 5: Programación funcional con Swift
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Seminarios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Seminarios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../seminarios/seminario1-scheme/seminario1-scheme.html" title="Seminario de Scheme" class="md-nav__link">
      Seminario de Scheme
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../seminarios/seminario2-swift/seminario2-swift.html" title="Seminario de Swift" class="md-nav__link">
      Seminario de Swift
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Prácticas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Prácticas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../buenas-practicas-programacion-funcional.html" title="Buenas prácticas de programación funcional" class="md-nav__link">
      Buenas prácticas de programación funcional
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica01/practica01.html" title="Práctica 1" class="md-nav__link">
      Práctica 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica02/practica02.html" title="Práctica 2" class="md-nav__link">
      Práctica 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica03/practica03.html" title="Práctica 3" class="md-nav__link">
      Práctica 3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica04/practica04.html" title="Práctica 4" class="md-nav__link">
      Práctica 4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica05/practica05.html" title="Práctica 5" class="md-nav__link">
      Práctica 5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica06/practica06.html" title="Práctica 6" class="md-nav__link">
      Práctica 6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica07/practica07.html" title="Práctica 7" class="md-nav__link">
      Práctica 7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica08/practica08.html" title="Práctica 8" class="md-nav__link">
      Práctica 8
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#antes-de-la-clase-de-practicas" title="Antes de la clase de prácticas" class="md-nav__link">
    Antes de la clase de prácticas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios" title="Ejercicios" class="md-nav__link">
    Ejercicios
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-1" title="Ejercicio 1" class="md-nav__link">
    Ejercicio 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-2" title="Ejercicio 2" class="md-nav__link">
    Ejercicio 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-3" title="Ejercicio 3" class="md-nav__link">
    Ejercicio 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-4" title="Ejercicio 4" class="md-nav__link">
    Ejercicio 4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-5" title="Ejercicio 5" class="md-nav__link">
    Ejercicio 5
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="practica-12-programacion-orientada-a-objetos-en-swift-2">Práctica 12: Programación Orientada a Objetos en Swift (2)<a class="headerlink" href="#practica-12-programacion-orientada-a-objetos-en-swift-2" title="Permanent link">&para;</a></h1>
<h2 id="antes-de-la-clase-de-practicas">Antes de la clase de prácticas<a class="headerlink" href="#antes-de-la-clase-de-practicas" title="Permanent link">&para;</a></h2>
<p>Los siguientes ejercicios están basados en los conceptos de teoría
vistos la semana pasada. Antes de la clase de prácticas debes repasar
todos los conceptos y <strong>probar en con el compilador de Swift</strong> todos
los ejemplos de los siguientes apartados del tema 6 <a href="../../teoria/tema06-programacion-orientada-objetos-swift/tema06-programacion-orientada-objetos-swift.html#7-funciones-operadoras"><em>Programación
OO con Swift</em></a></p>
<ul>
<li>Funciones operadoras</li>
<li>Protocolos</li>
<li>Casting de tipos</li>
<li>Genéricos</li>
<li>Extensiones</li>
</ul>
<h2 id="ejercicios">Ejercicios<a class="headerlink" href="#ejercicios" title="Permanent link">&para;</a></h2>
<h3 id="ejercicio-1">Ejercicio 1<a class="headerlink" href="#ejercicio-1" title="Permanent link">&para;</a></h3>
<p>a) Completa el código de la estructura ​<code>MiStruct</code>​ para que compile
correctamente. Hazlo primero en papel y después pruébalo en el
compilador.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">protocol</span> <span class="nc">A</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">a</span><span class="p">:</span> <span class="nb">String</span> <span class="p">{</span><span class="kr">get</span><span class="p">}</span>
    <span class="kd">func</span> <span class="nf">foo</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">String</span><span class="p">?</span>
<span class="p">}</span>
<span class="kd">protocol</span> <span class="nc">B</span> <span class="p">{</span>
    <span class="kr">mutating</span> <span class="kd">func</span> <span class="nf">bar</span><span class="p">()</span>
<span class="p">}</span>
<span class="kd">struct</span> <span class="nc">MiStruct</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="p">{</span>
    <span class="c1">// Completa el código</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>b) El siguiente código tiene errores. Intenta descubrir cuáles son sin
utilizar el compilador. Prueba distintas formas de arreglar el código
cambiando lo mínimo posible de lo ya definido (por ejemplo, no debes
añadir nuevas propiedades en <code>MiStruct</code>). Compruébalo con el compilador.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">protocol</span> <span class="nc">A</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">a</span><span class="p">:</span> <span class="nb">String</span> <span class="p">{</span><span class="kr">get</span> <span class="kr">set</span><span class="p">}</span>
    <span class="kd">func</span> <span class="nf">foo</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">Int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Int</span><span class="p">?</span>
<span class="p">}</span>

<span class="kd">protocol</span> <span class="nc">B</span> <span class="p">{</span>
    <span class="kr">mutating</span> <span class="kd">func</span> <span class="nf">bar</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="nc">MiStruct</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">a</span> <span class="p">=</span> <span class="mi">10</span>
    <span class="kd">func</span> <span class="nf">foo</span><span class="p">(</span><span class="n">valor1</span> <span class="n">a</span><span class="p">:</span> <span class="nb">Int</span><span class="p">,</span> <span class="n">valor2</span> <span class="n">b</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nv">res</span> <span class="p">=</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="p">?</span> <span class="n">a</span><span class="p">:</span> <span class="n">b</span>
        <span class="k">return</span> <span class="n">res</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>c) Supongamos la estructura <code>Equipo</code> que aparece a continuación que
representa un equipo en una competición deportiva: </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">struct</span> <span class="nc">Equipo</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">puntos</span><span class="p">:</span> <span class="nb">Int</span>
    <span class="kd">let</span> <span class="nv">nombre</span><span class="p">:</span> <span class="nb">String</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Modifica la definición para poder comprobar la igualdad de dos equipos y
que el siguiente código funcione correctamente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">equipo1</span> <span class="p">=</span> <span class="n">Equipo</span><span class="p">(</span><span class="n">puntos</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="s">&quot;Hércules&quot;</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">equipo2</span> <span class="p">=</span> <span class="n">Equipo</span><span class="p">(</span><span class="n">puntos</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="s">&quot;Villareal&quot;</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="n">equipo1</span> <span class="p">==</span> <span class="n">equipo2</span><span class="p">)</span> <span class="c1">// imprime false</span>
</pre></div>
</td></tr></table>

<p>Después, modifica el código otra vez para que la estructura se ajuste
también al protocolo <code>Comparable</code> para poder comparar dos equipos
. Consulta el protocolo en <a href="https://developer.apple.com/documentation/swift/comparable">documentación de
Swift</a>. Un
equipo será menor que otro cuando tenga menos puntos. En el caso en
que ambos tengan los mismos puntos, será menor el que tenga menor
nombre en orden alfabético.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="bp">print</span><span class="p">(</span><span class="n">equipo1</span> <span class="o">&gt;</span> <span class="n">equipo2</span><span class="p">)</span> <span class="c1">// imprime true</span>
</pre></div>
</td></tr></table>

<p>Una vez definidos los operadores necesarios comprueba que funcionan
correctamente creando varios equipos, insertándolos en un array y
llamando al método <code>sorted</code>.</p>
<h3 id="ejercicio-2">Ejercicio 2<a class="headerlink" href="#ejercicio-2" title="Permanent link">&para;</a></h3>
<p>a) Completa el siguiente código para que compile correctamente e imprima lo indicado:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">struct</span> <span class="nc">Cuadrado</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">lado</span><span class="p">:</span> <span class="nb">Double</span>
<span class="p">}</span>

<span class="c1">// Completa el código justo a continuación,</span>
<span class="c1">// no puedes modificar el código anterior</span>

<span class="kd">var</span> <span class="nv">cuadrado</span> <span class="p">=</span> <span class="n">Cuadrado</span><span class="p">(</span><span class="n">lado</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="n">cuadrado</span><span class="p">.</span><span class="n">area</span><span class="p">)</span> <span class="c1">// Imprime: 16.0</span>
<span class="n">cuadrado</span><span class="p">.</span><span class="n">lado</span> <span class="p">=</span> <span class="mf">10.0</span>
<span class="bp">print</span><span class="p">(</span><span class="n">cuadrado</span><span class="p">.</span><span class="n">area</span><span class="p">)</span> <span class="c1">// Imprime: 100.0</span>
</pre></div>
</td></tr></table>

<p>b) Rellena el siguiente código para que funcione correctamente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">protocol</span> <span class="nc">Persona</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">nombre</span><span class="p">:</span> <span class="nb">String</span> <span class="p">{</span><span class="kr">get</span><span class="p">}</span>
    <span class="kd">func</span> <span class="nf">encantada</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="n">Persona</span> 
    <span class="kd">func</span> <span class="nf">refrescada</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="n">Persona</span> 
<span class="p">}</span>

<span class="kd">enum</span> <span class="nc">Pocion</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">magica</span><span class="p">,</span> <span class="n">refrescante</span><span class="p">,</span> <span class="n">venenosa</span>

    <span class="kd">func</span> <span class="nf">esBebida</span><span class="p">(</span><span class="n">por</span> <span class="n">persona</span><span class="p">:</span> <span class="n">Persona</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">__________</span> <span class="p">{</span>
        <span class="n">______________</span> <span class="p">{</span>
            <span class="k">case</span> <span class="n">_________</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">persona</span><span class="p">.</span><span class="n">encantada</span><span class="p">()</span>
            <span class="k">case</span> <span class="n">_________</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">persona</span><span class="p">.</span><span class="n">refrescada</span><span class="p">()</span>
            <span class="k">default</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">nil</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>c) Completa el código de la estructura ​<code>MiStruct</code> para que compile correctamente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">protocol</span> <span class="nc">A</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">valor</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">{</span><span class="kr">get</span> <span class="kr">set</span><span class="p">}</span>
    <span class="kd">func</span> <span class="nf">foo</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Int</span>
<span class="p">}</span>
<span class="kd">protocol</span> <span class="nc">B</span> <span class="p">{</span>
    <span class="kr">mutating</span> <span class="kd">func</span> <span class="nf">bar</span><span class="p">()</span>
<span class="p">}</span>
<span class="kd">struct</span> <span class="nc">MiStruct</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="p">{</span>
    <span class="c1">// Completa el código</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>d) Completa el siguiente código para que compile correctamente e imprima lo indicado:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">struct</span> <span class="nc">Circulo</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">radio</span><span class="p">:</span> <span class="nb">Double</span>
    <span class="c1">// Completa el código</span>

<span class="p">}</span>

<span class="kd">let</span> <span class="nv">c1</span> <span class="p">=</span> <span class="n">Circulo</span><span class="p">(</span><span class="n">radio</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">c2</span> <span class="p">=</span> <span class="n">Circulo</span><span class="p">(</span><span class="n">radio</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">c3</span> <span class="p">=</span> <span class="n">c1</span> <span class="o">+</span> <span class="n">c2</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;El radio de la suma es: </span><span class="si">\(</span><span class="n">c3</span><span class="p">.</span><span class="n">radio</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="c1">// Imprime: El radio de la suma es: 15.0</span>
</pre></div>
</td></tr></table>

<h3 id="ejercicio-3">Ejercicio 3<a class="headerlink" href="#ejercicio-3" title="Permanent link">&para;</a></h3>
<p>a) Completa el bucle con el código que comprueba el tipo de la variable
<code>i</code> e imprime su propiedad <code>p</code> y su propiedad <code>a1</code> o <code>a2</code>, dependiendo
de su tipo.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">protocol</span> <span class="nc">P</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nv">p</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nc">A1</span><span class="p">:</span> <span class="n">P</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nv">p</span> <span class="p">=</span> <span class="mi">0</span>
   <span class="kd">var</span> <span class="nv">a1</span> <span class="p">=</span> <span class="mi">0</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nc">A2</span><span class="p">:</span> <span class="n">P</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nv">p</span> <span class="p">=</span> <span class="mi">1</span>
   <span class="kd">var</span> <span class="nv">a2</span> <span class="p">=</span> <span class="mi">0</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nv">array</span><span class="p">:</span> <span class="p">[</span><span class="n">P</span><span class="p">]</span> <span class="p">=</span> <span class="p">[</span><span class="n">A1</span><span class="p">(),</span> <span class="n">A2</span><span class="p">()]</span>
<span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">array</span> <span class="p">{</span>

   <span class="c1">// Código a completar</span>
   <span class="c1">//</span>
<span class="p">}</span>

<span class="c1">// debe imprimir:</span>
<span class="c1">// debe imprimir:</span>
<span class="c1">// p: 0, a1: 0</span>
<span class="c1">// p: 1, a2: 0</span>
</pre></div>
</td></tr></table>

<p>b) Completa el código que hay a continuación para que compile
correctamente y aparezca en pantalla el resultado que se muestra.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">protocol</span> <span class="nc">TieneVelocidad</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">velocidadActual</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">Double</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Vehiculo</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">velocidad</span> <span class="p">=</span> <span class="mf">0.0</span>
    <span class="kd">func</span> <span class="nf">velocidadActual</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">Double</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">velocidad</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Tren</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="kd">let</span> <span class="nv">velocidadEnMarcha</span> <span class="p">=</span> <span class="mf">300.0</span>
    <span class="kd">var</span> <span class="nv">pasajeros</span> <span class="p">=</span> <span class="mi">0</span>
    <span class="kd">var</span> <span class="nv">enMarcha</span> <span class="p">=</span> <span class="kc">false</span>
<span class="p">}</span>

<span class="c1">//</span>
<span class="c1">// Código a completar</span>
<span class="c1">//</span>

<span class="kd">var</span> <span class="nv">vehiculo1</span> <span class="p">=</span> <span class="n">Vehiculo</span><span class="p">()</span>
<span class="kd">var</span> <span class="nv">tren1</span> <span class="p">=</span> <span class="n">Tren</span><span class="p">()</span>
<span class="n">tren1</span><span class="p">.</span><span class="n">enMarcha</span> <span class="p">=</span> <span class="kc">true</span>

<span class="kd">let</span> <span class="nv">transportes</span><span class="p">:</span> <span class="p">[</span><span class="n">TieneVelocidad</span><span class="p">]</span> <span class="p">=</span> <span class="p">[</span><span class="n">vehiculo1</span><span class="p">,</span> <span class="n">tren1</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">transportes</span> <span class="p">{</span>
    <span class="bp">print</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">velocidadActual</span><span class="p">())</span>
<span class="p">}</span>
<span class="c1">// 0.0</span>
<span class="c1">// 300.0</span>
</pre></div>
</td></tr></table>

<h3 id="ejercicio-4">Ejercicio 4<a class="headerlink" href="#ejercicio-4" title="Permanent link">&para;</a></h3>
<p>Define una estructura <code>Timer</code> con la que podamos ejecutar el siguiente
código sin errores. El temporizador se inicializa con un número
determinado de segundos y define un método de instancia <code>paso()</code> que
descuenta un segundo. Fíjate en el código y verás que es posible sumar
temporizadores. Por último, el atributo del tipo <code>pasosTotales</code> guarda
el número de pasos que se han realizado en todas las instancias.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nv">t1</span> <span class="p">=</span> <span class="n">Timer</span><span class="p">(</span><span class="n">segundos</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span>
<span class="kd">var</span> <span class="nv">t2</span> <span class="p">=</span> <span class="n">Timer</span><span class="p">(</span><span class="n">segundos</span><span class="p">:</span> <span class="mi">5</span><span class="p">)</span>
<span class="k">for</span> <span class="kc">_</span> <span class="k">in</span> <span class="mf">0.</span><span class="p">..</span><span class="mi">4</span> <span class="p">{</span>
    <span class="n">t1</span><span class="p">.</span><span class="n">paso</span><span class="p">()</span>
<span class="p">}</span>
<span class="k">for</span> <span class="kc">_</span> <span class="k">in</span> <span class="mf">0.</span><span class="p">..</span><span class="mi">2</span> <span class="p">{</span>
    <span class="n">t2</span><span class="p">.</span><span class="n">paso</span><span class="p">()</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nv">t3</span> <span class="p">=</span> <span class="n">t1</span> <span class="o">+</span> <span class="n">t2</span>
<span class="n">t3</span><span class="p">.</span><span class="n">paso</span><span class="p">()</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;Segundos del temporizador 1: </span><span class="si">\(</span><span class="n">t1</span><span class="p">.</span><span class="n">segundos</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;Segundos del temporizador 2: </span><span class="si">\(</span><span class="n">t2</span><span class="p">.</span><span class="n">segundos</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;Segundos del temporizador 3: </span><span class="si">\(</span><span class="n">t3</span><span class="p">.</span><span class="n">segundos</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;Pasos totales: </span><span class="si">\(</span><span class="n">Timer</span><span class="p">.</span><span class="n">pasosTotales</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="c1">// Imprime:</span>
<span class="c1">// Segundos del temporizador 1: 5</span>
<span class="c1">// Segundos del temporizador 2: 2</span>
<span class="c1">// Segundos del temporizador 3: 6</span>
<span class="c1">// Pasos totales: 9</span>
</pre></div>
</td></tr></table>

<h3 id="ejercicio-5">Ejercicio 5<a class="headerlink" href="#ejercicio-5" title="Permanent link">&para;</a></h3>
<p>Vamos, por último, con un ejercicio en el que veremos otra forma de
trabajar con figuras geométricas.</p>
<h4>1. Completa el código inicial</h4>
<p>Comienza incluyendo en la práctica el código de las definiciones
de las estructuras geométricas: <code>Punto</code>, <code>Tamaño</code>, <code>Rectangulo</code> y
<code>Circulo</code>. Debes completar el código para que haga lo indicado en los
comentarios.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">struct</span> <span class="nc">Punto</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">x</span> <span class="p">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">y</span> <span class="p">=</span> <span class="mf">0.0</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="nc">Tamaño</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">ancho</span> <span class="p">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">alto</span> <span class="p">=</span> <span class="mf">0.0</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="nc">Circulo</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">centro</span> <span class="p">=</span> <span class="n">Punto</span><span class="p">()</span>
    <span class="kd">var</span> <span class="nv">radio</span> <span class="p">=</span> <span class="mf">0.0</span>

    <span class="kd">var</span> <span class="nv">area</span><span class="p">:</span> <span class="nb">Double</span> <span class="p">{</span>
        <span class="c1">// Propiedad calculada que devuelve el </span>
        <span class="c1">// área del círculo y modifica el radio</span>
        <span class="c1">// cuando se actualiza</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="nc">Rectangulo</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">origen</span> <span class="p">=</span> <span class="n">Punto</span><span class="p">()</span>
    <span class="kd">var</span> <span class="nv">tamaño</span> <span class="p">=</span> <span class="n">Tamaño</span><span class="p">()</span>

    <span class="kd">var</span> <span class="nv">centro</span><span class="p">:</span> <span class="n">Punto</span> <span class="p">{</span>
        <span class="c1">// Propiedad calculada que devuelve el </span>
        <span class="c1">// centro del rectángulo y traslada su</span>
        <span class="c1">// origen cuando se modifica</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nv">area</span><span class="p">:</span> <span class="nb">Double</span> <span class="p">{</span>
        <span class="c1">// Propiedad calculada que devuelve el</span>
        <span class="c1">// área del rectángulo</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Prueba las estructuras escribiendo algún código en el que se creen algunas
instancias y se actualicen sus propiedades.</p>
<h4>2. Define el protocolo figura</h4>
<p>Define el protocolo <code>Figura</code> que contiene:</p>
<ul>
<li>Propiedad de lectura y escritura <code>centro</code> (<code>Punto</code>), que define el
  centro de la figura.</li>
<li>Propiedades de sólo lectura <code>area</code> (<code>Double</code>) y <code>tamaño</code> (<code>Tamaño</code>)
  que devuelven el tamaño (alto y ancho) de la figura.</li>
<li>Método <code>descripcion()</code> que devuelva un <code>String</code> con el centro y el
  área de la figura.</li>
</ul>
<h4>3. Define extensiones</h4>
<ul>
<li>
<p>Modifica las estructuras <code>Rectangulo</code> y <code>Circulo</code> para que se ajusten al
  protocolo <code>Figura</code>, añadiendo el código de implementación necesario.</p>
</li>
<li>
<p>Prueba el código escrito hasta ahora, creando un array del tipo
  <code>Figura</code> (el protocolo) y añadiendo en él círculos y rectángulos.</p>
</li>
</ul>
<h4>4. Estructura <code>AlmacenFiguras</code></h4>
<p>Por último, implementa una estructura <code>AlmacenFiguras</code>.</p>
<ul>
<li>
<p>Debe tener una única propiedad <code>figuras</code> que contenga un array de
figuras. Como en la práctica anterior, define en ella el método
<code>añade(figura:)</code> y las propiedades calculadas <code>numFiguras</code> (<code>Int</code>) y
<code>areaTotal</code> (<code>Double</code>).</p>
</li>
<li>
<p>Escribe el método <code>cuentaTipos() -&gt; (Int, Int)</code> que recorra el array
de figuras y devuelva una tupla con dos enteros: número de rectángulos
y número de círculos. La función debe imprimir por cada figura del
array el tipo de figura, su descripción y, en el caso en que la figura sea un rectángulo,
su tamaño.</p>
</li>
</ul>
<p>Por ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="o">**</span> <span class="n">Un</span> <span class="n">rectángulo</span> <span class="n">con</span> <span class="n">tamaño</span> <span class="n">Tamaño</span><span class="p">(</span><span class="n">ancho</span><span class="p">:</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">alto</span><span class="p">:</span> <span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="n">y</span> <span class="n">descripción</span><span class="p">:</span>
<span class="n">Centro</span><span class="p">:</span> <span class="n">Punto</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mi">6</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span> <span class="n">y</span> <span class="err">á</span><span class="n">rea</span><span class="p">:</span> <span class="mi">50</span><span class="p">.</span><span class="mi">0</span>
<span class="o">**</span> <span class="n">Un</span> <span class="n">círculo</span> <span class="n">con</span> <span class="n">descripción</span><span class="p">:</span>
<span class="n">Centro</span><span class="p">:</span> <span class="n">Punto</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="n">y</span> <span class="err">á</span><span class="n">rea</span><span class="p">:</span> <span class="mi">314</span><span class="p">.</span><span class="mi">1592653589793</span>
</pre></div>
</td></tr></table>

<ul>
<li>Escribe un ejemplo de código en el que se guarden varias figuras
en un almacén de figuras y se llame a sus métodos.</li>
</ul>
<hr />
<p>Lenguajes y Paradigmas de Programación, curso 2022-23<br />
© Departamento Ciencia de la Computación e Inteligencia Artificial, Universidad de Alicante<br />
Domingo Gallardo, Cristina Pomares, Antonio Botía, Francisco Martínez</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>