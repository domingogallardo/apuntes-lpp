



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Práctica 4 - LPP</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#practica-4-funciones-recursivas-que-devuelven-listas" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="LPP" class="md-header-nav__button md-logo">
          
            <img src="../../imagenes/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              LPP
            </span>
            <span class="md-header-nav__topic">
              
                Práctica 4
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="LPP" class="md-nav__button md-logo">
      
        <img src="../../imagenes/logo.png" width="48" height="48">
      
    </a>
    LPP
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Teoría
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Teoría
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema00-descripcion-asignatura/tema00-descripcion-asignatura.html" title="Descripción de la asignatura" class="md-nav__link">
      Descripción de la asignatura
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema01-historia-lenguajes-programacion/tema01-historia-lenguajes-programacion.html" title="Tema 1: Historia de los lenguajes de programación" class="md-nav__link">
      Tema 1: Historia de los lenguajes de programación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema02-programacion-funcional/tema02-programacion-funcional.html" title="Tema 2: Programación funcional" class="md-nav__link">
      Tema 2: Programación funcional
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema03-procedimientos-recursivos/tema03-procedimientos-recursivos.html" title="Tema 3: Procedimientos recursivos" class="md-nav__link">
      Tema 3: Procedimientos recursivos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema04-estructuras-recursivas/tema04-estructuras-recursivas.html" title="Tema 4: Estructuras recursivas" class="md-nav__link">
      Tema 4: Estructuras recursivas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema05-programacion-funcional-swift/tema05-programacion-funcional-swift.html" title="Tema 5: Programación funcional con Swift" class="md-nav__link">
      Tema 5: Programación funcional con Swift
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Seminarios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Seminarios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../seminarios/seminario1-scheme/seminario1-scheme.html" title="Seminario de Scheme" class="md-nav__link">
      Seminario de Scheme
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../seminarios/seminario2-swift/seminario2-swift.html" title="Seminario de Swift" class="md-nav__link">
      Seminario de Swift
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Prácticas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Prácticas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../buenas-practicas-programacion-funcional.html" title="Buenas prácticas de programación funcional" class="md-nav__link">
      Buenas prácticas de programación funcional
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica01/practica01.html" title="Práctica 1" class="md-nav__link">
      Práctica 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica02/practica02.html" title="Práctica 2" class="md-nav__link">
      Práctica 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica03/practica03.html" title="Práctica 3" class="md-nav__link">
      Práctica 3
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Práctica 4
      </label>
    
    <a href="practica04.html" title="Práctica 4" class="md-nav__link md-nav__link--active">
      Práctica 4
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#antes-de-la-clase-de-practicas" title="Antes de la clase de prácticas" class="md-nav__link">
    Antes de la clase de prácticas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios" title="Ejercicios" class="md-nav__link">
    Ejercicios
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-1" title="Ejercicio 1" class="md-nav__link">
    Ejercicio 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-2" title="Ejercicio 2" class="md-nav__link">
    Ejercicio 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-3" title="Ejercicio 3" class="md-nav__link">
    Ejercicio 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-4" title="Ejercicio 4" class="md-nav__link">
    Ejercicio 4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-5" title="Ejercicio 5" class="md-nav__link">
    Ejercicio 5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-6" title="Ejercicio 6" class="md-nav__link">
    Ejercicio 6
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica05/practica05.html" title="Práctica 5" class="md-nav__link">
      Práctica 5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica06/practica06.html" title="Práctica 6" class="md-nav__link">
      Práctica 6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica07/practica07.html" title="Práctica 7" class="md-nav__link">
      Práctica 7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica08/practica08.html" title="Práctica 8" class="md-nav__link">
      Práctica 8
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#antes-de-la-clase-de-practicas" title="Antes de la clase de prácticas" class="md-nav__link">
    Antes de la clase de prácticas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios" title="Ejercicios" class="md-nav__link">
    Ejercicios
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-1" title="Ejercicio 1" class="md-nav__link">
    Ejercicio 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-2" title="Ejercicio 2" class="md-nav__link">
    Ejercicio 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-3" title="Ejercicio 3" class="md-nav__link">
    Ejercicio 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-4" title="Ejercicio 4" class="md-nav__link">
    Ejercicio 4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-5" title="Ejercicio 5" class="md-nav__link">
    Ejercicio 5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-6" title="Ejercicio 6" class="md-nav__link">
    Ejercicio 6
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="practica-4-funciones-recursivas-que-devuelven-listas">Práctica 4: Funciones recursivas que devuelven listas<a class="headerlink" href="#practica-4-funciones-recursivas-que-devuelven-listas" title="Permanent link">&para;</a></h1>
<h2 id="antes-de-la-clase-de-practicas">Antes de la clase de prácticas<a class="headerlink" href="#antes-de-la-clase-de-practicas" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Antes de empezar esta práctica es importante que revises la solución
  de la práctica 3. Puedes preguntar las dudas al profesor de prácticas.</p>
</li>
<li>
<p>Los siguientes ejercicios están basados en los conceptos de teoría
vistos la semana pasada. Antes de la clase de prácticas debes repasar
todos los conceptos y <strong>probar en el DrRacket</strong> todos los ejemplos de
los siguientes apartados del tema 2 <a href="../../teoria/tema02-programacion-funcional/tema02-programacion-funcional.html#43-funciones-recursivas-que-construyen-listas"><em>Programación
Funcional</em></a>:</p>
<ul>
<li>4.3. <em>Funciones recursivas que construyen listas</em></li>
<li>4.4. <em>Funciones con número variable de argumentos</em></li>
<li>5 <em>Funciones como tipos de datos de primera clase</em> (incluido hasta el
  apartado 5.3. <em>Función apply</em>)</li>
</ul>
</li>
</ul>
<h2 id="ejercicios">Ejercicios<a class="headerlink" href="#ejercicios" title="Permanent link">&para;</a></h2>
<h3 id="ejercicio-1">Ejercicio 1<a class="headerlink" href="#ejercicio-1" title="Permanent link">&para;</a></h3>
<p>a) Implementa la función recursiva <code>(contiene-prefijo prefijo
lista-pal)</code> que recibe una cadena y una lista de palabras. Devuelve
una lista con los booleanos resultantes de comprobar si la cadena es
prefijo de cada una de las palabras de la lista.</p>
<p>Debes definir una función auxiliar <code>(es-prefijo? pal1 pal2)</code> que
compruebe si la palabra 1 es prefijo de la palabra 2.</p>
<div class="admonition hint">
<p class="admonition-title">Pista</p>
<p>Puedes usar la función <code>(substring palabra inicio final)</code> que devuelve
la subcadena de la <code>palabra</code> que va desde la posición <code>inicio</code> hasta
la posición <code>final</code> (sin incluir).</p>
</div>
<p>Ejemplos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">es-prefijo?</span> <span class="s2">&quot;ante&quot;</span> <span class="s2">&quot;anterior&quot;</span><span class="p">)</span> <span class="c1">; ⇒ #t</span>
<span class="p">(</span><span class="n">contiene-prefijo</span> <span class="s2">&quot;ante&quot;</span> <span class="o">&#39;</span><span class="p">(</span><span class="s2">&quot;anterior&quot;</span> <span class="s2">&quot;antígona&quot;</span> <span class="s2">&quot;antena&quot;</span> <span class="s2">&quot;anatema&quot;</span><span class="p">))</span> 
<span class="c1">; ⇒ (#t #f #t #f)</span>
</pre></div>
</td></tr></table>

<p>b) Vamos a generalizar la solución del ejercicio 4 de la práctica 2 e
implementar la función recursiva <code>(cadenas-mayores lista1 lista2)</code>
teniendo en cuenta que las listas que recibe tienen un número
indeterminado de cadenas. En el caso en que una de las listas sea
mayor que la otra, se deberán añadir todas sus cadenas a la lista
resultante.</p>
<p>Ejemplos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">cadenas-mayores</span> <span class="o">&#39;</span><span class="p">(</span><span class="s2">&quot;hola&quot;</span> <span class="s2">&quot;que&quot;</span> <span class="s2">&quot;tal&quot;</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="s2">&quot;adios&quot;</span><span class="p">))</span> 
<span class="c1">; ⇒ (&quot;adios&quot; &quot;que&quot; &quot;tal&quot;)</span>
<span class="p">(</span><span class="n">cadenas-mayores</span> <span class="o">&#39;</span><span class="p">(</span><span class="s2">&quot;hola&quot;</span> <span class="s2">&quot;que&quot;</span> <span class="s2">&quot;tal&quot;</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="s2">&quot;meme&quot;</span> <span class="s2">&quot;y&quot;</span> <span class="s2">&quot;adios&quot;</span><span class="p">))</span>
<span class="c1">; ⇒ (&quot;hola&quot; &quot;que&quot; &quot;adios&quot;)</span>
<span class="p">(</span><span class="n">cadenas-mayores</span> <span class="o">&#39;</span><span class="p">(</span><span class="s2">&quot;la&quot;</span> <span class="s2">&quot;primera&quot;</span> <span class="s2">&quot;práctica&quot;</span> <span class="s2">&quot;de&quot;</span> <span class="s2">&quot;recursión&quot;</span><span class="p">)</span>
                 <span class="o">&#39;</span><span class="p">(</span><span class="s2">&quot;confiar&quot;</span> <span class="s2">&quot;en&quot;</span> <span class="s2">&quot;la&quot;</span> <span class="s2">&quot;recursión&quot;</span> <span class="s2">&quot;facilita&quot;</span> <span class="s2">&quot;su&quot;</span> <span class="s2">&quot;resolución&quot;</span><span class="p">))</span>
<span class="c1">; ⇒ (&quot;confiar&quot; &quot;primera&quot; &quot;práctica&quot; &quot;recursión&quot; &quot;recursión&quot; &quot;su&quot; &quot;resolución&quot;)</span>
</pre></div>
</td></tr></table>

<h3 id="ejercicio-2">Ejercicio 2<a class="headerlink" href="#ejercicio-2" title="Permanent link">&para;</a></h3>
<p>a) Implementa la función recursiva <code>(inserta-pos dato pos lista)</code> que
recibe un dato, una posición y una lista y devuelve la lista
resultante de insertar el dato en la posición indicada de la lista. Si
la posición es 0, el dato se inserta en cabeza. Suponemos que la
posición siempre será positiva y menor o igual que la longitud de la
lista.</p>
<p>Ejemplos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">inserta-pos</span> <span class="o">&#39;</span><span class="ss">b</span> <span class="mi">2</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">a</span> <span class="ss">a</span> <span class="ss">a</span> <span class="ss">a</span><span class="p">))</span> <span class="c1">; ⇒ &#39;(a a b a a)</span>
<span class="p">(</span><span class="n">inserta-pos</span> <span class="o">&#39;</span><span class="ss">b</span> <span class="mi">0</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">a</span> <span class="ss">a</span> <span class="ss">a</span> <span class="ss">a</span><span class="p">))</span> <span class="c1">; ⇒ &#39;(b a a a a)</span>
</pre></div>
</td></tr></table>

<p>b) Implementa la función recursiva <code>(inserta-ordenada n
lista-ordenada)</code> que recibe un número y una lista de números ordenados
de menor a mayor y devuelve la lista resultante de insertar el número
<code>n</code> en la posición correcta para que la lista siga estando ordenada.</p>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">inserta-ordenada</span> <span class="mi">10</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">-8</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">11</span> <span class="mi">20</span><span class="p">))</span> <span class="c1">; ⇒ (-8 2 3 10 11 20)</span>
</pre></div>
</td></tr></table>

<p>c) Usando la función anterior <code>inserta-ordenada</code> implementa la función recursiva
<code>(ordena lista)</code> que recibe una lista de números y devuelve una lista
ordenada.</p>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">ordena</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">2</span> <span class="mi">-1</span> <span class="mi">100</span> <span class="mi">4</span> <span class="mi">-6</span><span class="p">))</span> <span class="c1">; ⇒ (-6 -1 2 4 100)</span>
</pre></div>
</td></tr></table>

<h3 id="ejercicio-3">Ejercicio 3<a class="headerlink" href="#ejercicio-3" title="Permanent link">&para;</a></h3>
<p>a) Implementa la función recursiva <code>(mueve-al-principio lista dato)</code> que recibe una lista y un 
dato que está contenido en la lista. La función debe devolver la lista resultante de
mover la primera aparición del dato al comienzo de la lista, dejando el resto de la lista
sin modificar. Suponemos que el dato que se pasa como parámetro está contenido en la lista.</p>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">mueve-al-principio</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">a</span> <span class="ss">b</span> <span class="ss">e</span> <span class="ss">c</span> <span class="ss">d</span> <span class="ss">e</span> <span class="ss">f</span><span class="p">)</span> <span class="o">&#39;</span><span class="ss">e</span><span class="p">)</span> <span class="c1">; ⇒ (e a b c d e f)</span>
<span class="p">(</span><span class="n">mueve-al-principio</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">a</span> <span class="ss">b</span> <span class="ss">c</span> <span class="ss">d</span> <span class="ss">e</span> <span class="ss">f</span> <span class="ss">g</span><span class="p">)</span> <span class="o">&#39;</span><span class="ss">a</span><span class="p">)</span> <span class="c1">; ⇒ (a b c d e f g)</span>
</pre></div>
</td></tr></table>

<p>b) Implementa una función recursiva <code>(comprueba-simbolos lista-simbolos
lista-num)</code> que recibe una lista de símbolos y una lista de números
enteros (ambas de la misma longitud) y devuelve una lista de
parejas. Cada pareja está formada por el símbolo de la i-ésima
posición de <code>lista-simbolos</code> y el número entero situado esa posición
de <code>lista-num</code>, siempre y cuando dicho número se corresponda con la
longitud de la cadena correspondiente al símbolo. Puedes utilizar las
funciones predefinidas <code>string-length</code> y <code>symbol-&gt;string</code>.</p>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">comprueba-simbolos</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">este</span> <span class="ss">es</span> <span class="ss">un</span> <span class="ss">ejercicio</span> <span class="ss">de</span> <span class="ss">examen</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">2</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">9</span> <span class="mi">1</span> <span class="mi">6</span><span class="p">))</span>
<span class="c1">; ⇒ ((un . 2) (ejercicio . 9) (examen . 6))</span>
</pre></div>
</td></tr></table>

<h3 id="ejercicio-4">Ejercicio 4<a class="headerlink" href="#ejercicio-4" title="Permanent link">&para;</a></h3>
<p>Vamos a implementar distintas versiones de funciones que expanden
una lista original. </p>
<p>En el primer apartado definiremos una función auxiliar que se deberá
usar en todos los demás apartados.</p>
<p>a) Escribe la función recursiva <code>(expande-pareja pareja)</code> que recibe
una pareja formada por un dato y un número <em>n</em> y devuelve la lista
formada por <em>n</em> repeticiones del dato.</p>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">expande-pareja</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">hola</span> <span class="o">.</span> <span class="mi">3</span><span class="p">))</span> <span class="c1">; ⇒ (hola hola hola)</span>
<span class="p">(</span><span class="n">expande-pareja</span> <span class="o">&#39;</span><span class="p">(</span><span class="no">#t</span> <span class="o">.</span> <span class="mi">5</span><span class="p">))</span> <span class="c1">; ⇒ (#t #t #t #t #t)</span>
</pre></div>
</td></tr></table>

<p>b) Vamos a implementar dos versiones de la función <code>(expande-parejas
pareja_1 ... pareja_n)</code> que recibe un número variable de
argumentos (todos opcionales) y devuelve una lista donde se han "expandido" las parejas,
creando una lista con tantos elementos como el número que indique cada
pareja. Todos los argumentos son opcionales; si no hay argumentos se
devolverá la lista vacía.</p>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">expande-parejas</span> <span class="o">&#39;</span><span class="p">(</span><span class="no">#t</span> <span class="o">.</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="s2">&quot;LPP&quot;</span> <span class="o">.</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">b</span> <span class="o">.</span> <span class="mi">4</span><span class="p">))</span> 
<span class="c1">; ⇒ (#t #t #t &quot;LPP&quot; &quot;LPP&quot; b b b b)</span>
</pre></div>
</td></tr></table>

<p>b.1) Escribe una solución en la que la función <code>expande-parejas</code>
llame a una función recursiva <code>(expande-lista lista-parejas)</code>
que trabaje sobre una lista de parejas.</p>
<p>b.2) Escribe una solución en la que la propia función
<code>expande-parejas</code> sea recursiva. Llámala <code>expande-parejas-2</code> y ten
cuidado de que la llamada recursiva sea también a la propia
<code>expande-parejas-2</code>.</p>
<div class="admonition hint">
<p class="admonition-title">Pista</p>
<p>Repasa el <a href="https://domingogallardo.github.io/apuntes-lpp/teoria/tema02-programacion-funcional/tema02-programacion-funcional.html#531-funcion-apply-y-funciones-recursivas">apartado
5.3.1</a>
de teoría, en el que se explica cómo usar <code>apply</code> para implementar funciones
recursivas con número variable de argumentos.</p>
</div>
<p>c) Implementa la función recursiva <code>(expande lista)</code>. Recibe una
lista en la que hay intercalados algunos números enteros
positivos. Devuelve la lista original en la que se han expandido los
elementos siguientes a los números, tantas veces como indica el
número. La lista nunca va a contener dos números consecutivos y
siempre va a haber un elemento después de un número.</p>
<p>Debes usar también para su implementación la función <code>(expande-pareja
pareja)</code> definida en el apartado a).</p>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">expande</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">4</span> <span class="ss">clase</span> <span class="ss">ua</span> <span class="mi">3</span> <span class="ss">lpp</span> <span class="ss">aulario</span><span class="p">))</span> 
<span class="c1">; ⇒ (clase clase clase clase ua lpp lpp lpp aulario)</span>
</pre></div>
</td></tr></table>

<p>En el ejemplo, el 4 indica que el siguiente elemento
(<code>clase</code>) se debe repetir 4 veces en la lista expandida y el 3 indica
que el siguiente elemento (<code>lpp</code>) se va a repetir 3 veces.</p>
<h3 id="ejercicio-5">Ejercicio 5<a class="headerlink" href="#ejercicio-5" title="Permanent link">&para;</a></h3>
<p>a) Indica qué devuelven las siguientes expresiones en Scheme. Puede ser
que alguna expresión contenga algún error. Indícalo también en ese
caso y explica qué tipo de error. Hazlo sin el intérprete, y después
comprueba con el intérprete si tu respuesta era correcta.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">((</span><span class="k">lambda</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="n">x</span> <span class="n">x</span><span class="p">))</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>
<span class="p">((</span><span class="k">lambda</span> <span class="p">()</span> <span class="p">(</span><span class="nb">+</span> <span class="mi">6</span> <span class="mi">4</span><span class="p">)))</span> <span class="c1">; ⇒ ?</span>
<span class="p">((</span><span class="k">lambda</span> <span class="p">(</span><span class="n">x</span> <span class="n">y</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="n">x</span> <span class="p">(</span><span class="nb">+</span> <span class="mi">2</span> <span class="n">y</span><span class="p">)))</span> <span class="p">(</span><span class="nb">+</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>
<span class="p">((</span><span class="k">lambda</span> <span class="p">(</span><span class="n">x</span> <span class="n">y</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="n">x</span> <span class="p">(</span><span class="nb">+</span> <span class="mi">2</span> <span class="n">x</span><span class="p">)))</span> <span class="mi">5</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>


<span class="p">(</span><span class="k">define</span> <span class="n">f</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="n">a</span> <span class="n">b</span><span class="p">)</span> <span class="p">(</span><span class="nb">string-append</span> <span class="s2">&quot;***&quot;</span> <span class="n">a</span> <span class="n">b</span> <span class="s2">&quot;***&quot;</span><span class="p">)))</span>
<span class="p">(</span><span class="k">define</span> <span class="n">g</span> <span class="n">f</span><span class="p">)</span>
<span class="p">(</span><span class="nb">procedure?</span> <span class="n">g</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>
<span class="p">(</span><span class="n">g</span> <span class="s2">&quot;Hola&quot;</span> <span class="s2">&quot;Adios&quot;</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>
</pre></div>
</td></tr></table>

<p>b) Hemos visto en teoría que la forma especial <code>define</code> para construir
funciones es <em>azucar sintáctico</em> y que el intérprete de Scheme la
convierte en una expresión equivalente usando la forma especial
<code>lambda</code>.</p>
<p>Escribe cuál sería las expresiones equivalentes, usando la forma
especial <code>lambda</code> a las siguientes definiciones de funciones:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="n">suma-3</span> <span class="n">x</span><span class="p">)</span>
   <span class="p">(</span><span class="nb">+</span> <span class="n">x</span> <span class="mi">3</span><span class="p">))</span>

<span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="n">factorial</span> <span class="n">x</span><span class="p">)</span>
   <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">=</span> <span class="n">x</span> <span class="mi">0</span><span class="p">)</span>
      <span class="mi">1</span>
      <span class="p">(</span><span class="nb">*</span> <span class="n">x</span> <span class="p">(</span><span class="n">factorial</span> <span class="p">(</span><span class="nb">-</span> <span class="n">x</span> <span class="mi">1</span><span class="p">)))))</span>
</pre></div>
</td></tr></table>

<p>c) Suponiendo las siguientes definiciones de funciones indica qué
devolverían las invocaciones. Puede ser que alguna expresión contenga
algún error. Indícalo también en ese caso y explica qué tipo de error.</p>
<p>Hazlo sin el intérprete, y después comprueba con el intérprete si tu
respuesta era correcta.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="n">doble</span> <span class="n">x</span><span class="p">)</span>
   <span class="p">(</span><span class="nb">*</span> <span class="mi">2</span> <span class="n">x</span><span class="p">))</span>

<span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="n">foo</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="n">y</span><span class="p">)</span>
   <span class="p">(</span><span class="n">f</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span><span class="p">)</span> <span class="n">y</span><span class="p">))</span>

<span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="n">bar</span> <span class="n">f</span> <span class="n">p</span> <span class="n">x</span> <span class="n">y</span><span class="p">)</span>
   <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="k">and</span> <span class="p">(</span><span class="n">p</span> <span class="n">x</span><span class="p">)</span> <span class="p">(</span><span class="n">p</span> <span class="n">y</span><span class="p">))</span>
       <span class="p">(</span><span class="n">f</span> <span class="n">x</span> <span class="n">y</span><span class="p">)</span>
       <span class="o">&#39;</span><span class="ss">error</span><span class="p">))</span>

<span class="p">(</span><span class="n">foo</span> <span class="nb">+</span> <span class="mi">10</span> <span class="n">doble</span> <span class="mi">15</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>
<span class="p">(</span><span class="n">foo</span> <span class="n">doble</span> <span class="nb">+</span> <span class="mi">10</span> <span class="mi">15</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>
<span class="p">(</span><span class="n">foo</span> <span class="nb">+</span> <span class="n">doble</span> <span class="mi">10</span> <span class="mi">15</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>
<span class="p">(</span><span class="n">foo</span> <span class="nb">string-append</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">string-append</span> <span class="s2">&quot;***&quot;</span> <span class="n">x</span><span class="p">))</span> <span class="s2">&quot;Hola&quot;</span> <span class="s2">&quot;Adios&quot;</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>

<span class="p">(</span><span class="n">bar</span> <span class="n">doble</span> <span class="nb">number?</span> <span class="mi">10</span> <span class="mi">15</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>
<span class="p">(</span><span class="n">bar</span> <span class="nb">string-append</span> <span class="nb">string?</span> <span class="s2">&quot;Hola&quot;</span> <span class="s2">&quot;Adios&quot;</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>
<span class="p">(</span><span class="n">bar</span> <span class="nb">+</span> <span class="nb">number?</span> <span class="s2">&quot;Hola&quot;</span> <span class="mi">5</span><span class="p">)</span> <span class="c1">; ⇒ ?</span>
</pre></div>
</td></tr></table>

<h3 id="ejercicio-6">Ejercicio 6<a class="headerlink" href="#ejercicio-6" title="Permanent link">&para;</a></h3>
<p>Vamos a seguir jugando a las cartas con Scheme. Vas a tener que
implementar una serie de funciones auxiliares con las que vas a poder
hacer un truco de cartas al final del ejercicio.</p>
<p>Comienza por volver a descargar el <a href="https://raw.githubusercontent.com/domingogallardo/apuntes-lpp/master/src/lpp.rkt">fichero
<code>lpp.rkt</code></a>. En
él hemos incluido una nueva función <code>(cartas n)</code> con las que
puedes generar una lista de <em>n</em> cartas aleatorias de una baraja de hasta
48 cartas. Por ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">cartas</span> <span class="mi">10</span><span class="p">)</span> <span class="c1">; ⇒ (9♣ 7♠ Q♠ 4♥ 8♠ 3♠ 7♦ A♠ A♥ K♠)</span>
<span class="p">(</span><span class="n">cartas</span> <span class="mi">5</span><span class="p">)</span> <span class="c1">; ⇒ (7♣ 3♣ 6♣ 7♠ 5♣)</span>
</pre></div>
</td></tr></table>

<p>Como máximo puedes poner como parámetro 48 para generar aleatoriamente
las 48 cartas de una baraja francesa sin dieces.</p>
<div class="admonition note">
<p class="admonition-title">La función <code>cartas</code> no cumple el paradigma funcional</p>
<p>La función <code>cartas</code> es una función que devuelve una lista
aleatoria de cartas. No cumple el paradigma funcional porque
devuelve valores distintos cuando se llama con los mismos
parámetros.</p>
</div>
<p>a) Define una función <code>(coloca tres-listas un dos tres)</code> que recibe
una listas con tres listas y tres elementos y devuelva el resultado de
colocar los elementos en la cabeza de las tres listas.</p>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">coloca</span> <span class="o">&#39;</span><span class="p">(()</span> <span class="p">()</span> <span class="p">())</span> <span class="o">&#39;</span><span class="ss">a</span> <span class="o">&#39;</span><span class="ss">b</span> <span class="o">&#39;</span><span class="ss">c</span><span class="p">)</span> <span class="c1">; ⇒ &#39;((a) (b) (c))</span>
<span class="p">(</span><span class="n">coloca</span> <span class="o">&#39;</span><span class="p">((</span><span class="ss">a</span><span class="p">)</span> <span class="p">(</span><span class="ss">a</span><span class="p">)</span> <span class="p">(</span><span class="ss">a</span><span class="p">))</span> <span class="o">&#39;</span><span class="ss">b</span> <span class="o">&#39;</span><span class="ss">b</span> <span class="o">&#39;</span><span class="ss">b</span><span class="p">)</span> <span class="c1">; ⇒ &#39;((b a) (b a) (b a))</span>
<span class="p">(</span><span class="n">coloca</span> <span class="o">&#39;</span><span class="p">((</span><span class="ss">a</span><span class="p">)</span> <span class="p">(</span><span class="ss">b</span> <span class="ss">c</span><span class="p">)</span> <span class="p">(</span><span class="ss">d</span> <span class="ss">e</span> <span class="ss">f</span><span class="p">))</span> <span class="o">&#39;</span><span class="ss">g</span> <span class="o">&#39;</span><span class="ss">h</span> <span class="o">&#39;</span><span class="ss">i</span><span class="p">)</span> <span class="c1">; ⇒ &#39;((g a) (h b c) (i d e f)))</span>
</pre></div>
</td></tr></table>

<p>b) Usando la función anterior como función auxiliar implementa una
función recursiva <code>(reparte-tres lista-cartas)</code> que recibe una lista de
cartas con un número de cartas múltiplo de 3 y devuelve el resultado
de repartir esas cartas una a una en tres montones. Las cartas en
las posiciones 0, 3, 6, etc. irán en un montón. Las cartas en las
posiciones 1, 4, 7, etc. irán en el segundo montón. Y las cartas en
las posiciones 2, 5, 8, etc. irán en el tercero.</p>
<p>El resultado será una lista con tres listas representando esos tres
montones de cartas.</p>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="k">define</span> <span class="n">doce-cartas</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">A♣</span> <span class="ss">2♣</span> <span class="ss">3♣</span> <span class="ss">4♣</span> <span class="ss">5♣</span> <span class="ss">6♣</span> <span class="ss">7♣</span> <span class="ss">8♣</span> <span class="ss">9♣</span> <span class="ss">J♣</span> <span class="ss">Q♣</span> <span class="ss">K♣</span><span class="p">))</span>
<span class="p">(</span><span class="n">reparte-tres</span> <span class="n">doce-cartas</span><span class="p">)</span> <span class="c1">; ⇒ &#39;((A♣ 4♣ 7♣ J♣) (2♣ 5♣ 8♣ Q♣) (3♣ 6♣ 9♣ K♣))</span>
</pre></div>
</td></tr></table>

<p>c) Implementa una función recursiva <code>(elemento-central lista)</code> que
reciba una lista con un número impar de elementos (mayor o igual que
uno) y devuelva su elemento central.</p>
<div class="admonition note">
<p class="admonition-title">Pista</p>
<p>Supongamos que defines una función recursiva auxiliar
<code>(quita-ultimo lista)</code> que devuelve una lista sin el último
elemento.</p>
<p>¿Podrías usar esta función para pasarle un caso más sencillo a la
llamada recursiva y que sea la llamada recursiva la que devuelva
el elemento central? </p>
</div>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">elemento-central</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">a</span> <span class="ss">b</span> <span class="ss">c</span> <span class="ss">d</span> <span class="ss">e</span> <span class="ss">f</span> <span class="ss">g</span><span class="p">))</span> <span class="c1">; ⇒ d</span>
</pre></div>
</td></tr></table>

<p>d) Una vez que has implementado las funciones anteriores ya solo te
queda copiar las siguientes definiciones para poder hacer el truco de
cartas. Son funciones que recomponen la baraja a partir de los tres
montones dependiendo de si la carta elegida está en el montón de la
izquierda, del centro o de la derecha.</p>
<p>Y la función <code>adivina</code> es la que devuelve la carta elegida en el truco.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="n">izquierda</span> <span class="n">tres-listas</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">append</span> <span class="p">(</span><span class="nb">third</span> <span class="n">tres-listas</span><span class="p">)</span>
          <span class="p">(</span><span class="nb">first</span> <span class="n">tres-listas</span><span class="p">)</span>
          <span class="p">(</span><span class="nb">second</span> <span class="n">tres-listas</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="n">centro</span> <span class="n">tres-listas</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">append</span> <span class="p">(</span><span class="nb">third</span> <span class="n">tres-listas</span><span class="p">)</span>
          <span class="p">(</span><span class="nb">second</span> <span class="n">tres-listas</span><span class="p">)</span>
          <span class="p">(</span><span class="nb">first</span> <span class="n">tres-listas</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="n">derecha</span> <span class="n">tres-listas</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">append</span> <span class="p">(</span><span class="nb">second</span> <span class="n">tres-listas</span><span class="p">)</span>
          <span class="p">(</span><span class="nb">third</span> <span class="n">tres-listas</span><span class="p">)</span>
          <span class="p">(</span><span class="nb">first</span> <span class="n">tres-listas</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="n">adivina</span> <span class="n">lista</span><span class="p">)</span>
  <span class="p">(</span><span class="n">elemento-central</span> <span class="n">lista</span><span class="p">))</span>
</pre></div>
</td></tr></table>

<p>Por último, antes de empezar el truco, un par de consideraciones sobre
los programas con números aleatorios.</p>
<p>La siguiente función, con la constante 90 como argumento, genera
siempre la secuencia aleatoria que permite seguir el ejemplo. Si se
cambia por otra constante, la secuencia también se reperirá siempre
aunque será otra. Tener siempre la misma secuencia aleatoria permite
poder depurar la programación trabajando siempre con el mismo ejemplo
aleatorio.</p>
<p><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="nb">random-seed</span> <span class="mi">90</span><span class="p">)</span>
</pre></div>
</td></tr></table>
Si en lugar de una constante se usa un valor variable, se obtiene una
secuencia aleatoria distinta cada vez que se ejecute el programa. </p>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="nb">random-seed</span> <span class="p">(</span><span class="nb">modulo</span> <span class="p">(</span><span class="nb">current-milliseconds</span><span class="p">)</span> <span class="p">(</span><span class="nb">expt</span> <span class="mi">2</span> <span class="mi">31</span><span class="p">)))</span>
</pre></div>
</td></tr></table>

<p>Y ahora ya podemos empezar el truco de cartas.</p>
<ol>
<li>
<p>Repartimos una lista de cartas y las guardamos en la variable
<code>t1</code>. Podríamos jugar con 3, 9, 15, 21 o 27 cartas. Vamos a hacerlo
con 27:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="k">define</span> <span class="n">t1</span> <span class="p">(</span><span class="n">reparte-tres</span> <span class="p">(</span><span class="n">cartas</span> <span class="mi">27</span><span class="p">)))</span>
</pre></div>
</td></tr></table>

</li>
<li>
<p>Visualizamos los montones y pedimos al espectador que piense en una
carta sin decirla. Por ejemplo el as de tréboles.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">t1</span> <span class="c1">; ⇒ ((J♣ 8♦ K♥ J♠ 2♠ 8♥ Q♣ 4♦ A♥) (5♥ 9♣ 5♦ Q♠ A♦ 9♥ 5♠ 9♦ Q♦) (7♣ 3♠ 6♥ 6♣ 7♥ 3♣ 4♣ A♣ J♥))</span>
</pre></div>
</td></tr></table>

</li>
<li>
<p>Preguntamos al espectador en qué montón está la carta
   pensada. Juntamos los montones usando la función correspondiente a
   lugar del montón (<code>izquierda</code>, <code>derecha</code> o <code>centro</code>). En este caso
   el as de tréboles está en el montón derecho, por lo que usamos la
   función <code>derecha</code>. Y volvemos a repartir en tres montones el mazo
   resultante. Los guardamos en la variable <code>t2</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="k">define</span> <span class="n">t2</span> <span class="p">(</span><span class="n">reparte-tres</span> <span class="p">(</span><span class="n">derecha</span> <span class="n">t1</span><span class="p">)))</span>
</pre></div>
</td></tr></table>

</li>
<li>
<p>Visualizamos de nuevo los montones y preguntamos dónde está la
   carta. En este caso se encuentra en el centro.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">t2</span> <span class="c1">; ⇒  ((5♥ Q♠ 5♠ 7♣ 6♣ 4♣ J♣ J♠ Q♣) (9♣ A♦ 9♦ 3♠ 7♥ A♣ 8♦ 2♠ 4♦) (5♦ 9♥ Q♦ 6♥ 3♣ J♥ K♥ 8♥ A♥))</span>
</pre></div>
</td></tr></table>

<p>Juntamos usando la función <code>centro</code> y volvemos a repartir,
guardando el resultado en la variable <code>t3</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="k">define</span> <span class="n">t3</span> <span class="p">(</span><span class="n">reparte-tres</span> <span class="p">(</span><span class="n">centro</span> <span class="n">t2</span><span class="p">)))</span>
</pre></div>
</td></tr></table>

</li>
<li>
<p>Visualizamos los montones:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">t3</span> <span class="c1">; ⇒  ((5♦ 6♥ K♥ 9♣ 3♠ 8♦ 5♥ 7♣ J♣) (9♥ 3♣ 8♥ A♦ 7♥ 2♠ Q♠ 6♣ J♠) (Q♦ J♥ A♥ 9♦ A♣ 4♦ 5♠ 4♣ Q♣))</span>
</pre></div>
</td></tr></table>

<p>Y preguntamos dónde se encuentra la carta. En este caso el as de
trébol se encuentra en el montón de la derecha. Volvemos a juntar
los montones usando entonces la función <code>derecha</code> y ya podemos
llamar a la función <code>adivina</code> con la baraja resultante. Esta
función devolverá mágicamente la carta escogida:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">adivina</span> <span class="p">(</span><span class="n">derecha</span> <span class="n">t3</span><span class="p">))</span> <span class="c1">; ⇒ A♣</span>
</pre></div>
</td></tr></table>

</li>
</ol>
<hr />
<p>Lenguajes y Paradigmas de Programación, curso 2023-24<br />
© Departamento Ciencia de la Computación e Inteligencia Artificial, Universidad de Alicante<br />
Domingo Gallardo, Cristina Pomares, Antonio Botía, Francisco Martínez</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../practica03/practica03.html" title="Práctica 3" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Práctica 3
              </span>
            </div>
          </a>
        
        
          <a href="../practica05/practica05.html" title="Práctica 5" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                Práctica 5
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>