
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.1.7">
    
    
      
        <title>Seminario 2: Seminario de Swift - LPP</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="Teal" data-md-color-accent="Teal">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#seminario-2-seminario-de-swift" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="LPP" class="md-header__button md-logo" aria-label="LPP" data-md-component="logo">
      
  <img src="../../imagenes/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LPP
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Seminario 2: Seminario de Swift
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LPP" class="md-nav__button md-logo" aria-label="LPP" data-md-component="logo">
      
  <img src="../../imagenes/logo.png" alt="logo">

    </a>
    LPP
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Teoría
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Teoría
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../teoria/tema00-descripcion-asignatura/tema00-descripcion-asignatura.html" class="md-nav__link">
        Descripción de la asignatura
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../teoria/tema01-historia-lenguajes-programacion/tema01-historia-lenguajes-programacion.html" class="md-nav__link">
        Tema 1: Historia de los lenguajes de programación
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../teoria/tema02-programacion-funcional/tema02-programacion-funcional.html" class="md-nav__link">
        Tema 2: Programación funcional
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../teoria/tema03-procedimientos-recursivos/tema03-procedimientos-recursivos.html" class="md-nav__link">
        Tema 3: Procedimientos recursivos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../teoria/tema04-estructuras-recursivas/tema04-estructuras-recursivas.html" class="md-nav__link">
        Tema 4: Estructuras recursivas
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Seminarios
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Seminarios
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../seminario1-scheme/seminario1-scheme.html" class="md-nav__link">
        Seminario de Scheme
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Prácticas
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Prácticas
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../practicas/buenas-practicas-programacion-funcional.html" class="md-nav__link">
        Buenas prácticas de programación funcional
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../practicas/practica01/practica01.html" class="md-nav__link">
        Práctica 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../practicas/practica02/practica02.html" class="md-nav__link">
        Práctica 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../practicas/practica03/practica03.html" class="md-nav__link">
        Práctica 3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../practicas/practica04/practica04.html" class="md-nav__link">
        Práctica 4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../practicas/practica05/practica05.html" class="md-nav__link">
        Práctica 5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../practicas/practica06/practica06.html" class="md-nav__link">
        Práctica 6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../practicas/practica07/practica07.html" class="md-nav__link">
        Práctica 7
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#el-lenguaje-de-programacion-swift" class="md-nav__link">
    El lenguaje de programación Swift
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejecucion-de-programas-swift" class="md-nav__link">
    Ejecución de programas Swift
  </a>
  
    <nav class="md-nav" aria-label="Ejecución de programas Swift">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejecucion-on-line" class="md-nav__link">
    Ejecución on-line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion-en-linux-ubuntu" class="md-nav__link">
    Instalación en Linux Ubuntu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion-en-windows" class="md-nav__link">
    Instalación en Windows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visual-studio-code" class="md-nav__link">
    Visual Studio Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejecucion-con-macos" class="md-nav__link">
    Ejecución con MacOS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#un-tour-de-swift" class="md-nav__link">
    Un tour de Swift
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bibliografia-y-referencias" class="md-nav__link">
    Bibliografía y referencias
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="seminario-2-seminario-de-swift">Seminario 2: Seminario de Swift<a class="headerlink" href="#seminario-2-seminario-de-swift" title="Permanent link">&para;</a></h1>
<h2 id="el-lenguaje-de-programacion-swift">El lenguaje de programación Swift<a class="headerlink" href="#el-lenguaje-de-programacion-swift" title="Permanent link">&para;</a></h2>
<p><a href="https://en.wikipedia.org/wiki/Swift_(programming_language)">Swift</a> es
un lenguaje de programación compilado, de propósito general y
multi-paradigma desarrollado por Apple. Swift se presentó en la
Conferencia de Desarrolladores de Apple (WWDC) de 2014. Durante el año
2014 se desarrolló la versión 1.2 y en la WWDC 2015 se presentó Swift
2, una actualización importante del lenguaje. Inicialmente fue un
lenguaje propietario, pero el 3 de diciembre de 2015 se hizo <em>open
source</em> bajo la licencia Apache 2.0, para las plataformas Apple y
Linux. Los cambios en el lenguaje son propuestos y discutidos por la
comunidad en un proceso denominado <a href="https://github.com/apple/swift-evolution">Swift
evolution</a>. </p>
<p>La siguiente descripción se ha extraído del repositorio GitHub de
Swift:</p>
<blockquote>
<p>Swift es un lenguaje de programación de sistemas de alta
eficiencia. Tiene una sintaxis limpia y moderna, ofrece acceso
transparente a código y librerías existentes en C y Objective-C, y
es seguro en el uso de memoria (<em>memory safe</em>).</p>
<p>Aunque está inspirado en Objective-C y en muchos otros lenguajes,
Swift no es en si mismo un lenguaje derivado de C. Como lenguaje
completo e independiente, Swift proporciona características
fundamentales como control de flujo, estructuras de datos y
funciones, junto con construcciones de alto nivel como objetos,
protocolos, clausuras y genéricos. Swift se apoya en módulos,
eliminando la necesidad de cabeceras y la duplicación de código que
éstas inducen.</p>
</blockquote>
<p>En los primeros años de vida del lenguaje se introdujeron cambios muy
fuertes, incrementándose en años consecutivos el número de versión
mayor y rompiendo la compatibilidad del código fuente con las
versiones anteriores. Sin embargo, en los últimos años el lenguaje ha
madurado y llevamos varios años con incrementos sólo de versiones
menores de la versión mayor 5. En la actualidad se ha lanzado la
versión 5.8, pero puedes seguir perfectamente la asignatura y las
prácticas con cualquier versión 5.x.</p>
<h2 id="ejecucion-de-programas-swift">Ejecución de programas Swift<a class="headerlink" href="#ejecucion-de-programas-swift" title="Permanent link">&para;</a></h2>
<p>Es posible descargar el compilador de Swift en los sistemas operativos
Mac (utilizando el entorno de desarrollo Xcode) o Linux.</p>
<p>A continuación explicamos las distintas formas de ejecutar programas
Swift.</p>
<h3 id="ejecucion-on-line">Ejecución on-line<a class="headerlink" href="#ejecucion-on-line" title="Permanent link">&para;</a></h3>
<p>Existen varios sitios on-line en los que es posible ejecutar código
Swift. Recomendamos la dirección
<a href="http://online.swiftplayground.run">http://online.swiftplayground.run</a>. </p>
<p><img src="imagenes/swift-on-line.png" width="700px"/></p>
<p>En el caso en que el enlace anterior no funcione, también es posible
usar <a href="https://replit.com">replit</a>.</p>
<p><img src="imagenes/replit.png" width=700px"/></p>
<h3 id="instalacion-en-linux-ubuntu">Instalación en Linux Ubuntu<a class="headerlink" href="#instalacion-en-linux-ubuntu" title="Permanent link">&para;</a></h3>
<p>Existen distribuciones oficiales de Swift para Ubuntu 18.04, 20.04, 22.04
CentOS 7, CentOS 8 y Amazon Linux 2.</p>
<p>Brevemente, los pasos para su instalación son los siguientes:</p>
<ol>
<li>
<p>Confirmar que los paquetes de la instalación de Linux están
   actualizados:</p>
<div class="highlight"><pre><span></span><code>$ sudo apt-get update
</code></pre></div>
</li>
<li>
<p>Instalar las dependencias que encontrarás en la página <a href="https://www.swift.org/getting-started/#installing-swift">web oficial
de Apple</a>
usando <code>apt-get install</code>. Puede ser que necesites tener permisos de
super usuario para hacerlo: <code>sudo apt-get install</code>.</p>
<div class="admonition danger">
<p class="admonition-title">Cuidado</p>
<p>Dependiendo de tu versión de Linux deberás
descargarte unas dependencias distintas. Mira bien en la
página de Apple el comando <code>apt-get install</code> concreto que
debes ejecutar según tu versión.</p>
</div>
</li>
<li>
<p>Descargar la versión y plataforma deseada (fichero
<code>swift-&lt;VERSION&gt;-&lt;PLATFORM&gt;.tar.gz</code>). Por ejemplo, los siguientes
comandos se descargan la versión 5.8 de Swift de las distintas
distribuciones de Ubuntu. </p>
<ul>
<li>
<p>Ubuntu 18.04:</p>
<div class="highlight"><pre><span></span><code>$ wget https://download.swift.org/swift-5.8-release/ubuntu1804/swift-5.8-RELEASE/swift-5.8-RELEASE-ubuntu18.04.tar.gz
</code></pre></div>
</li>
<li>
<p>Ubuntu 20.04:</p>
<div class="highlight"><pre><span></span><code>$ wget https://download.swift.org/swift-5.8-release/ubuntu2004/swift-5.8-RELEASE/swift-5.8-RELEASE-ubuntu20.04.tar.gz
</code></pre></div>
</li>
<li>
<p>Ubuntu 22.04:</p>
<div class="highlight"><pre><span></span><code>$ wget https://download.swift.org/swift-5.8-release/ubuntu2204/swift-5.8-RELEASE/swift-5.8-RELEASE-ubuntu22.04.tar.gz
</code></pre></div>
</li>
</ul>
</li>
<li>
<p>Extaer el archivo:</p>
<div class="highlight"><pre><span></span><code>$ tar xzf swift-&lt;VERSION&gt;-&lt;PLATFORM&gt;.tar.gz
</code></pre></div>
<p>Esto crea el directorio <code>usr/</code> en la localización del archivo. Puedes probar si funciona el comando <code>swift</code> moviéndote
al directorio <code>bin</code> y ejecutando:</p>
<div class="highlight"><pre><span></span><code>$ ./swift repl
Welcome to Swift version 5.8 
Type :help for assistance.
1&gt; print(&quot;Hola mundo&quot;)
Hola mundo
2&gt; :quit
$ 
</code></pre></div>
</li>
<li>
<p>Para poder ejecutar <code>swift</code> desde cualquier directorio debes actualizar el PATH o mover <code>usr/bin/swift</code> al directorio <code>/usr/bin</code>.</p>
<div class="highlight"><pre><span></span><code>$ export PATH=/path/to/usr/bin:&quot;${PATH}&quot;
</code></pre></div>
</li>
</ol>
<h3 id="instalacion-en-windows">Instalación en Windows<a class="headerlink" href="#instalacion-en-windows" title="Permanent link">&para;</a></h3>
<p>Aunque existe una <a href="https://swift.org/download/#using-downloads">distribución oficial de
Swift</a> para Windows 10,
no hemos conseguido hacerla funcionar.</p>
<p>Recomendamos instalar una distribución de Ubuntu en WSL2 (Windows
Subsystem for Linux) siguiendo <a href="https://ubuntu.com/tutorials/install-ubuntu-on-wsl2-on-windows-10#1-overview">estas
instrucciones</a>
y después realizar la instalación de Swift en Ubuntu tal y como se
explica en el apartado anterior.</p>
<h3 id="visual-studio-code">Visual Studio Code<a class="headerlink" href="#visual-studio-code" title="Permanent link">&para;</a></h3>
<p>Para editar código Swift puedes usar cualquier editor orientado a
programación como Visual Studio Code (VSC) o Atom. Aconsejamos <a href="https://code.visualstudio.com">Visual
Studio Code</a>. </p>
<p>Las últimas versiones de Visual Studio Code traen incorporado el
<a href="https://marketplace.visualstudio.com/items?itemName=sswg.swift-lang">plugin oficial de
Swift</a>
que permite un coloreado de sintaxis y completa automáticamente el código.</p>
<p>Para trabajar de forma más cómoda podemos abrir el terminal integrado
<strong>Ver &gt; Terminal integrado</strong>. Podemos comprobar que VSC permite abrir
un terminal de WSL en el que podemos ejecutar el Swift instalado previamente.</p>
<p><img src="imagenes/vcode.png" width="700px"/></p>
<p>Puedes consultar los conceptos básicos de Visual Studio Code y el
manual completo en <a href="https://code.visualstudio.com/docs">este enlace</a>.</p>
<h3 id="ejecucion-con-macos">Ejecución con MacOS<a class="headerlink" href="#ejecucion-con-macos" title="Permanent link">&para;</a></h3>
<p>Podemos trabajar de dos formas: ejecutando los programas Swift desde
la terminal o desde Xcode.</p>
<p>Si tienes Mac, puedes probar las dos formas y elegir la que te parezca
más cómoda.</p>
<h4 id="ejecucion-desde-la-terminal">Ejecución desde la terminal<a class="headerlink" href="#ejecucion-desde-la-terminal" title="Permanent link">&para;</a></h4>
<p>Debemos instalar las <em>Xcode Command Line Tools</em> con el siguiente
comando:</p>
<div class="highlight"><pre><span></span><code>$ xcode-select --install
</code></pre></div>
<p>Una vez instaladas las herramientas podemos ejecutar programas Swift desde la terminal, de forma
interactiva:</p>
<p>Abre la terminar y escribe:</p>
<div class="highlight"><pre><span></span><code>$ swift repl
</code></pre></div>
<p>Verás que se ejecuta el intérprete de Swift y que puedes escribir y
ejecutar código Swift:</p>
<p><img src="imagenes/terminal-swift.png" width="600px"/></p>
<p>Para editar un programa Swift puedes utilizar un editor como <em>Visual
Studio Code</em>, tal y como hemos comentado anteriormente y después
ejecutarlo desde la terminal.</p>
<div class="highlight"><pre><span></span><code>$ swift prueba.swift
Hola mundo
</code></pre></div>
<p><img src="imagenes/terminal-swift-programa.png" width="500px"/></p>
<h4 id="ejecucion-desde-xcode">Ejecución desde Xcode<a class="headerlink" href="#ejecucion-desde-xcode" title="Permanent link">&para;</a></h4>
<p>Primero debes instalar Xcode desde la Mac App Store.</p>
<p>Una vez instalado Xcode puedes ejecutar un programa Swift de dos
formas: compilando desde la terminal o compilando en Xcode.</p>
<h5 id="compilacion-desde-la-terminal">Compilación desde la terminal<a class="headerlink" href="#compilacion-desde-la-terminal" title="Permanent link">&para;</a></h5>
<p>En Xcode puedes crear un fichero nuevo
con la opción <em>File &gt; New File...</em> y seleccionar la plantilla <em>macOS &gt;
Swift File</em>.</p>
<p><img src="imagenes/template-new-swift-file.png" width="600px"/></p>
<p>Selecciona la carpeta y el nombre del fichero y ya puedes escribir
código Swift:</p>
<p><img src="imagenes/xcode-file-swift.png" width="600px"/></p>
<p>Una vez grabado el programa, puedes ejecutarlo desde el terminal:</p>
<div class="highlight"><pre><span></span><code>$ swift prueba.swift
Hola mundo
</code></pre></div>
<p><img src="imagenes/terminal-swift-programa.png" width="500px"/></p>
<p>Si hay algún error de compilación se detectará al lanzar el comando
desde el terminal.</p>
<p><img src="imagenes/programa-con-error.png" width="600px"/></p>
<p><img src="imagenes/error-terminal.png" width="500px"/></p>
<h5 id="compilacion-con-xcode">Compilación con Xcode<a class="headerlink" href="#compilacion-con-xcode" title="Permanent link">&para;</a></h5>
<p>La otra forma de trabajar es crear desde Xcode un proyecto Swift. Es
un poco más complicado (hay que conocer algunos comandos más de
Xcode), pero tiene la ventaja de que Xcode muestra los errores en la
propia ventana de edición.</p>
<p>Desde Xcode pulsa la opción <em>File &gt; New Project...</em> y selecciona la
plantilla <em>macOS &gt; Command Line Tool</em>.</p>
<p><img src="imagenes/proyecto-xcode.png" width="600px"/></p>
<p>Puedes escribir el nombre que quieras, por ejemplo <code>prueba-swift</code></p>
<p><img src="imagenes/proyecto-swift-xcode.png" width="600px"/></p>
<p>Selecciona el lugar en el disco donde se graba el proyecto y ya puedes
trabajar con él. El fichero principal se llama <code>main.swift</code>. Pulsando
la opción de <em>Run</em> se compila el proyecto y se abre un panel con la
salida:</p>
<p><img src="imagenes/ejecucion-xcode.png" width="700px"/></p>
<p>Si hay algún error de compilación se detecta cuando se escribe el
código y se muestra en el propio editor:</p>
<p><img src="imagenes/xcode-error.png" width="700px"/></p>
<!--
### Ejecución en una máquina Docker

[Docker](https://docs.docker.com) es una tecnología que ha tenido una gran expansión en los
últimos años. Permite construir máquinas virtuales ligeras que
utilizan el mismo sistema operativo de la máquina host. Estas máquinas
virtuales se denominan contenedores y, al compartir el propio sistema
operativo en el que se están ejecutando, su gestión (construcción,
arranque, parada, etc.) es muchísimo más rápida que las máquinas
virtuales tradicionales.

Docker se controla desde línea de comando, desde la aplicación
Terminal de Mac o el PowerShell de Windows. Existen comandos docker
para descargar imágenes, lanzar y parar contenedores, montar
directorios de la máquina host en contenedores, etc. Nosotros sólo
utilizaremos el comando `docker run` para lanzar un contenedor, pero
te recomendamos que investigues y pruebes más comandos y que conozcas
mejor esta interesante tecnología. Puedes empezar por la guía [Get
started with Docker](https://docs.docker.com/get-started/).

Usaremos la [imagen Docker
swift](https://hub.docker.com/_/swift/), que contiene el
comando `swift` necesario para compilar y ejecutar aplicaciones Swift.

#### Instalación de Docker ####

Debes instalar la versión de Docker Desktop correspondiente a tu sistema operativo. Descárgalo [desde esta
página](https://www.docker.com/products/docker-desktop) y sigue las
instrucciones correspondientes a tu sistema operativo.

#### Instalación y ejecución de la imagen Swift ####

Una vez instalado Docker, abre un terminal y lanza el siguiente
comando:

<div class="highlight"><pre><span></span><code>$ docker pull swift
</code></pre></div>

!!! Warning "MacBook con arquitectura ARM"
    Si tienes un MacBook reciente con el procesador M1 deberás
    descargar y ejecutar la imagen `swiftarm/swift`.

El comando descarga la última imagen de swift `swift` a nuestro ordenador. Una
vez descargada lanzamos el contenedor con el siguiente comando:

<div class="highlight"><pre><span></span><code>$ docker run --privileged -it --rm -v &quot;${PWD}:/home&quot; swift /bin/bash
</code></pre></div>

El contenedor arranca en muy pocos segundos y aparece su prompt,
indicando que ya estás dentro de él y puedes ejecutar cualquier
comando linux:

<div class="highlight"><pre><span></span><code>root@97265a262a58:/# ls
bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
root@97265a262a58:/# 
</code></pre></div>

Lanzamos el intérprete de Swift con el comando `swift`:

<div class="highlight"><pre><span></span><code>root@97265a262a58:/# swift
Welcome to Swift version 5.5.3 (swift-5.5.3-RELEASE).
Type :help for assistance.
1&gt; &quot;hola&quot;.uppercased()
$R0: String = &quot;HOLA&quot;
2&gt;
</code></pre></div>

Una vez hayamos terminado de trabajar podemos salir del intérprete
de Swift y del contenedor de la siguiente forma:

<div class="highlight"><pre><span></span><code>3&gt; :quit
root@97265a262a58:/# exit
</code></pre></div>


#### Directorio compartido entre el ordenador _host_ y el contenedor ####

El argumento `-v "${PWD}:/home"` del comando `docker run` hace que el
contenedor monte el **directorio actual** del ordenador anfitrión en
el directorio `/home` de la máquina docker. De esta forma podemos
editar los programas Swift en el ordenador anfitrión y ejecutarlos
desde línea de comando en el contenedor.

Recomendamos utilizar un editor de textos orientado a la programación
para editar los programas Swift en el ordenador anfitrión. Más
adelante hablaremos de los editores Atom y Visual Studio Code, pero
cualquier otro editor orientado a programación te puede valer
(Sublime, Xcode en el Mac, etc.)

Vamos a probar a usar el directorio compartido:

1. Nos movemos en el ordenador anfitrión a un directorio en el que
   trabajaremos con los programas en Swift:

<div class="highlight"><pre><span></span><code>~ $ cd swift
~/swift $ 
</code></pre></div>

!!! Warning "Aviso"
    Si estás en Windows, por una cuestión de permisos, el directorio
    de trabajo es recomendable que se encuentre bajo la ruta
    `C:\Users\<usuario>\`. Por ejemplo:

    <div class="highlight"><pre><span></span><code>$ cd /c/Users/&lt;usuario&gt;/Documents/Ejercicios/Swift
</code></pre></div>

2. Creamos en el directorio actual un programa llamado
   `holaMundo.swift`.

**Fichero `holaMundo.swift`**:

<div class="highlight"><pre><span></span><code><span class="c1">// Primer programa Swift</span>

<span class="kd">var</span> <span class="nv">str</span> <span class="p">=</span> <span class="s">&quot;Mensaje&quot;</span>
<span class="n">str</span> <span class="p">=</span> <span class="s">&quot;Hola mundo!&quot;</span>
<span class="bp">print</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>

<span class="c1">// Vamos a sumar dos números</span>

<span class="kd">var</span> <span class="nv">firstNumber</span> <span class="p">=</span> <span class="mi">2</span>
<span class="kd">var</span> <span class="nv">secondNumber</span> <span class="p">=</span> <span class="mi">3</span>
<span class="kd">var</span> <span class="nv">totalSum</span> <span class="p">=</span> <span class="n">firstNumber</span> <span class="o">+</span> <span class="n">secondNumber</span>
<span class="n">firstNumber</span> <span class="p">=</span> <span class="n">firstNumber</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">secondNumber</span> <span class="p">=</span> <span class="n">secondNumber</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">totalSum</span> <span class="p">=</span> <span class="n">firstNumber</span> <span class="o">+</span> <span class="n">secondNumber</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;El resultado de la suma es = </span><span class="si">\(</span><span class="n">totalSum</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</code></pre></div>

3. Arrancamos el contenedor swift:

<div class="highlight"><pre><span></span><code>$ docker run --privileged -it -v &quot;${PWD}:/home&quot; swift:5.1.2 /bin/bash
</code></pre></div>

4. Compilamos y ejecutamos el programa desde el contenedor, cambiando
   al directorio `/home` (el directorio compartido) y ejecutando el
   comando swift:

<div class="highlight"><pre><span></span><code>root@3131534ce480:/# cd /home
root@3131534ce480:~# swift holaMundo.swift 
Hola mundo!
El resultado de la suma es = 7
</code></pre></div>

5. Prueba a cambiar cualquier cosa en el programa desde el editor en
   el ordenador anfitrión y a volver a ejecutar el programa desde el
   contenedor. Verás que el directorio está realmente compartido
   y que el programa se ejecuta con las modificaciones que has
   introducido.

<div class="highlight"><pre><span></span><code>root@3131534ce480:~# exit
exit
~/swift $ 
</code></pre></div>

!!! Note "Script"
    El siguiente script realiza la llamada a la máquina docker y
    ejecuta el fichero que recibe como parámetro. Es muy cómodo para
    ejecutar ficheros .swift en el directorio actual. Lo puedes
    ejecutar en **Linux**, **MacOS** o en **Windows** con el **Docker
    Quickstart Terminal**. 

    **Fichero `swift.sh`**:

    <div class="highlight"><pre><span></span><code><span class="nv">SWIFT_VER</span><span class="o">=</span><span class="m">5</span>.1.2
docker<span class="w"> </span>run<span class="w"> </span>--privileged<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">:/home&quot;</span><span class="w"> </span><span class="s2">&quot;swift:</span><span class="si">${</span><span class="nv">SWIFT_VER</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>/bin/bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">cd /home</span>
<span class="s2">swift </span><span class="nv">$*</span><span class="s2">&quot;</span>
</code></pre></div>

    Puedes guardarlo en el directorio actual, hacerlo ejecutable con

    <div class="highlight"><pre><span></span><code>$<span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>swift.sh
</code></pre></div>

    y llamarlo pasándole como parámetro el fichero swift a ejecutar:

    <div class="highlight"><pre><span></span><code>$<span class="w"> </span>./swift.sh<span class="w"> </span>holaMundo.swift
</code></pre></div>


    Si estás en **Windows** y quieres ejecutar el script desde un terminal
    normal puedes hacer el siguiente fichero .bat que ejecuta el
    script anterior en el terminal Docker.

    **Fichero `swift.bat`**:

    <div class="highlight"><pre><span></span><code>&quot;C:\Program Files\Git\bin\bash.exe&quot; --login -i &quot;C:\Program Files\Docker Toolbox\start.sh&quot; &quot;./swift.sh %*&quot;
</code></pre></div>

    Uso:

    <div class="highlight"><pre><span></span><code>&gt; swift holaMundo.swift
</code></pre></div>

-->

<!--
#### Integración del Docker Quickstart Terminal en Visual Studio Code (Windows) ####

Abre un _Docker Quickstart Terminal_, ejecuta el siguiente comando y
anota los valores de las variables de entorno:

<div class="highlight"><pre><span></span><code>$ set | grep DOCKER_
DOCKER_CERT_PATH=&#39;C:\Users\&lt;usuario&gt;\.docker\machine\machines\default&#39;
DOCKER_HOST=tcp://192.168.99.100:2376
DOCKER_MACHINE_NAME=default
DOCKER_TLS_VERIFY=1
DOCKER_TOOLBOX_INSTALL_PATH=&#39;C:\Program Files\Docker Toolbox&#39;
</code></pre></div>

Abre la carpeta de trabajo como área de trabajo: _Archivo -> Abrir área de trabajo..._.

Abre el Terminal integrado (Crtl+ñ). Te dá a elegir entre tres shells
(PowerShell, CMD, o Git bash). Elige el que mejor te venga por
defecto, ya que en cualquier caso, para trabajar con el Swift de
Docker hay que ajustar la configuración.

Abre la configuración (_Crl+_, o _Archivo->Preferencias->Configuración_).

Fíjate que son tres los ficheros de configuración posibles:

- Configuración predeterminada
- Configuración de usuario
- Configuración de área de trabajo

En la Configuración de usuario o en la de área de trabajo, dependiendo de en
cuál te convenga más, pon entre las `{}` los siguientes valores de configuración:

<div class="highlight"><pre><span></span><code>{
&quot;terminal.integrated.shell.windows&quot;: &quot;C:\\Program Files\\Git\\bin\\bash.exe&quot;,
&quot;terminal.integrated.env.windows&quot;: {
&quot;DOCKER_CERT_PATH&quot;: &quot;C:\\Users\\&lt;usuario&gt;\\.docker\\machine\\machines\\default&quot;,
&quot;DOCKER_HOST&quot;: &quot;tcp://192.168.99.100:2376&quot;,
&quot;DOCKER_MACHINE_NAME&quot;: &quot;default&quot;,
&quot;DOCKER_TLS_VERIFY&quot;: &quot;1&quot;,
&quot;DOCKER_TOOLBOX_INSTALL_PATH&quot;: &quot;C:\\Program Files\\Docker Toolbox&quot;
},
&quot;terminal.integrated.shellArgs.windows&quot;: [&quot;--login&quot;, &quot;-i&quot;, &quot;C:\\Program Files\\Docker Toolbox\\start.sh&quot;]
}
</code></pre></div>

Fíjate que el valor de `terminal.integrated.env.windows` depende de los valores que
obtuvistes en el Docker Quickstart Terminal cuando probamos las Docker Tools.

Si eliges cambiar la Configuración de área de trabajo, en lugar de la de Usuario,
la configuración se guarda en una subcarpeta `".vscode"` de la carpeta de trabajo,
y este tipo de Terminal interactivo se abrirá solo cuando trabajes en esa carpeta.
Por defecto, en otras carpetas podrás tener el terminal que elijas.

-->

<h2 id="un-tour-de-swift">Un tour de Swift<a class="headerlink" href="#un-tour-de-swift" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>El texto de este seminario es una traducción del
documento de Apple <a href="https://docs.swift.org/swift-book/GuidedTour/GuidedTour.html">A Swift
Tour</a>
en el que se presenta una introducción rápida a los conceptos
fundamentales del lenguaje. En los temas siguientes de la
asignatura profundizaremos en aspectos como funciones, genéricos,
clases o protocolos.</p>
</div>
<p>La tradición sugiere que el primer programa en un nuevo lenguaje
debería imprimir las palabras "Hola, mundo!" en la pantalla. En
Swift, esto puede hacerse con una única línea:</p>
<div class="highlight"><pre><span></span><code><span class="bp">print</span><span class="p">(</span><span class="s">&quot;Hola, mundo!&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Si has escrito código en C o en Objective-C, esta sintaxis te parecerá
familiar. En Swift, esta línea de código es un programa completo. No
necesitas importar una biblioteca separada para funcionaliades como
entrada/salida o manejo de cadenas. El código escrito en el ámbito
global se usa como el punto de entrada del programa, por lo que no
necesitas una función <code>main()</code>. Tampoco tienes que escribir puntos y
comas al final de cada sentencia. Puedes comentar líneas de código
de la misma forma que en C.</p>
<div class="highlight"><pre><span></span><code><span class="c1">//</span>
<span class="c1">// Esto es un comentario</span>
<span class="c1">//</span>

<span class="cm">/*</span>
<span class="cm">   Y esto también es un comentario</span>
<span class="cm">*/</span>
</code></pre></div>
<p>Este tour te da información suficiente para empezar a escribir código
in Swift enseñándote cómo conseguir una variedad de tareas de
programación. La información completa sobre todos los elementos del
lenguaje de programación Swift se encuentra en la <a href="https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html">Guía de
Swift</a>.</p>
<h4 id="valores-simples">Valores simples<a class="headerlink" href="#valores-simples" title="Permanent link">&para;</a></h4>
<p>Usa <code>let</code> para crear una constante y <code>var</code> para crear una variable. No
es necesario que se conozca en tiempo de compilación el valor de una
constante, pero debes asignarle un valor exactamente una vez. Esto
significa que puedes usar constantes para nombrar un valor que
determinas una vez pero que usas en muchos lugares.</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nv">miVariable</span> <span class="p">=</span> <span class="mi">42</span>
<span class="n">miVariable</span> <span class="p">=</span> <span class="mi">50</span>
<span class="kd">let</span> <span class="nv">miConstante</span> <span class="p">=</span> <span class="mi">42</span>
</code></pre></div>
<p>Una constante o variable debe tener el mismo tipo que el valor que
quieres asignarle. Sin embargo, no siempre tienes que escribir el tipo
explícitamente. Cuando se proporciona un valor al crear una constante
o una variable el compilador infiere su tipo. En el ejemplo anterior,
el compilador infiere que <code>myVariable</code> es un entero porque su valor
inicial es un entero.</p>
<p>Si el valor inicial no proporciona información suficiente (o si no hay
valor inicial), especifica el tipo escribiéndolo después de la
variable, separándolo por dos puntos.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">implicitoInteger</span> <span class="p">=</span> <span class="mi">70</span>
<span class="kd">let</span> <span class="nv">implicitoDouble</span> <span class="p">=</span> <span class="mf">70.0</span>
<span class="kd">let</span> <span class="nv">explicitoDouble</span><span class="p">:</span> <span class="nb">Double</span> <span class="p">=</span> <span class="mi">70</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>A lo largo del seminario se plantean pequeños ejercicios que 
debes hacer tu mismo, para practicar un poco más con el
lenguaje. Los verás en los bloques encabezados con "Experimento".</p>
</div>
<div class="admonition example">
<p class="admonition-title">Experimento 1</p>
<p>Crea una constante con el tipo explícito de <code>Float</code> y un valor de 4.</p>
</div>
<p>Los valores nunca se convierten implícitamente a otro tipo. Si
necesitas convertir un valor a un tipo diferente, construye
explícitamente una instancia del tipo deseado.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">etiqueta</span> <span class="p">=</span> <span class="s">&quot;El ancho es &quot;</span>
<span class="kd">let</span> <span class="nv">ancho</span> <span class="p">=</span> <span class="mi">94</span>
<span class="kd">let</span> <span class="nv">anchoEtiqueta</span> <span class="p">=</span> <span class="n">etiqueta</span> <span class="o">+</span> <span class="nb">String</span><span class="p">(</span><span class="n">ancho</span><span class="p">)</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 2</p>
<p>Intenta eliminar la conversión a <code>String</code> en la última línea. ¿Qué
error obtienes? Inclúyelo traducido en el código usando un comentario.</p>
</div>
<p>Hay una forma aún más sencilla de incluir valores en cadenas: escribe
el valor entre paréntesis, y escribe una barra invertida (<code>\</code>) antes
de los paréntesis. Por ejemplo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">manzanas</span> <span class="p">=</span> <span class="mi">3</span>
<span class="kd">let</span> <span class="nv">naranjas</span> <span class="p">=</span> <span class="mi">5</span>
<span class="kd">let</span> <span class="nv">resumenManzanas</span> <span class="p">=</span> <span class="s">&quot;Tengo </span><span class="si">\(</span><span class="n">manzanas</span><span class="si">)</span><span class="s"> manzanas.&quot;</span>
<span class="kd">let</span> <span class="nv">resumenFrutas</span> <span class="p">=</span> <span class="s">&quot;Tengo </span><span class="si">\(</span><span class="n">manzanas</span> <span class="o">+</span> <span class="n">naranjas</span><span class="si">)</span><span class="s"> frutas.&quot;</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 3</p>
<p>Usa <code>\()</code> para imprimir una cadena con un cálculo con punto
flotante y, en otra sentencia, para imprimir una cadena que
incluiya el nombre de alguien en un saludo.</p>
</div>
<p>Crea arrays y diccionarios utilizando corchetes (<code>[]</code>), y accede a sus
elementos escribiendo el índice o la clave en los corchetes. Se
permite una coma después del último elemento.</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nv">listaCompra</span> <span class="p">=</span> <span class="p">[</span><span class="s">&quot;huevos&quot;</span><span class="p">,</span> <span class="s">&quot;agua&quot;</span><span class="p">,</span> <span class="s">&quot;tomates&quot;</span><span class="p">,</span> <span class="s">&quot;pan&quot;</span><span class="p">]</span>
<span class="n">listaCompra</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;botella de agua&quot;</span>

<span class="kd">var</span> <span class="nv">trabajos</span> <span class="p">=</span> <span class="p">[</span>
    <span class="s">&quot;Malcolm&quot;</span><span class="p">:</span> <span class="s">&quot;Capitán&quot;</span><span class="p">,</span>
    <span class="s">&quot;Kaylee&quot;</span><span class="p">:</span> <span class="s">&quot;Mecánico&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">trabajos</span><span class="p">[</span><span class="s">&quot;Jayne&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;Relaciones públicas&quot;</span>
</code></pre></div>
<p>Para crear un array o diccionario vacío, usa la sintaxis de inicialización.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">arrayVacio</span> <span class="p">=</span> <span class="p">[</span><span class="nb">String</span><span class="p">]()</span>
<span class="kd">let</span> <span class="nv">diccionarioVacio</span> <span class="p">=</span> <span class="p">[</span><span class="nb">String</span><span class="p">:</span> <span class="nb">Float</span><span class="p">]()</span>
</code></pre></div>
<p>Si el tipo de información puede ser inferido, puedes escribir un array
vacío como <code>[]</code> y un diccionario vacío como <code>[:]</code>; por ejemplo, cuando
estableces un nuevo valor para una variable o pasas un argumento a una
función.</p>
<div class="highlight"><pre><span></span><code><span class="n">listaCompra</span> <span class="p">=</span> <span class="p">[]</span>
<span class="n">trabajos</span> <span class="p">=</span> <span class="p">[:]</span>
</code></pre></div>
<p>Puedes encontrar más información sobre cómo trabajar con arrays en el
apartado correspondiente de la <a href="https://docs.swift.org/swift-book/LanguageGuide/CollectionTypes.html">Guía de
Swift</a>.</p>
<h4 id="tuplas">Tuplas<a class="headerlink" href="#tuplas" title="Permanent link">&para;</a></h4>
<p>Una tupla agrupa varios valores en un único valor compuesto.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">http404Error</span> <span class="p">=</span> <span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s">&quot;Not Found&quot;</span><span class="p">)</span>
</code></pre></div>
<p>El tipo de la tupla es <code>(Int, String)</code>.</p>
<p>Para obtener los valores de la tupla podemos <em>descomponerla</em>. Si
queremos ignorar una parte podemos utilizar un subrrayado (<code>_</code>).</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="p">(</span><span class="n">statusCode</span><span class="p">,</span> <span class="n">statusMensaje</span><span class="p">)</span> <span class="p">=</span> <span class="n">http404Error</span>
<span class="kd">let</span> <span class="p">(</span><span class="n">soloStatusCode</span><span class="p">,</span> <span class="kc">_</span><span class="p">)</span> <span class="p">=</span> <span class="n">http404Error</span>
</code></pre></div>
<p>También podemos acceder por posición:</p>
<div class="highlight"><pre><span></span><code><span class="bp">print</span><span class="p">(</span><span class="s">&quot;El código de estado es </span><span class="si">\(</span><span class="n">http404Error</span><span class="p">.</span><span class="mi">0</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</code></pre></div>
<h4 id="control-de-flujo">Control de flujo<a class="headerlink" href="#control-de-flujo" title="Permanent link">&para;</a></h4>
<p>Usa <code>if</code> y <code>switch</code> para hacer condicionales y usa <code>for-in</code>, <code>for</code>,
<code>while</code> y <code>repeat-while</code> para hacer bucles. Los paréntesis alrededor
de las condiciones o de la variable del bucle son opcionales. Se
requieren llaves alrededor del cuerpo.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">puntuacionesIndividuales</span> <span class="p">=</span> <span class="p">[</span><span class="mi">75</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
<span class="kd">var</span> <span class="nv">puntuacionEquipo</span> <span class="p">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">puntuacion</span> <span class="k">in</span> <span class="n">puntuacionesIndividuales</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">puntuacion</span> <span class="o">&gt;</span> <span class="mi">50</span> <span class="p">{</span>
        <span class="n">puntuacionEquipo</span> <span class="o">+=</span> <span class="mi">3</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">puntuacionEquipo</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">puntuacionEquipo</span><span class="p">)</span>
</code></pre></div>
<p>En una sentencia <code>if</code>, el condicional debe ser una expresión booleana;
esto significa que código como <code>if puntuacion { ... }</code> es un error, no una
comparación implícita con cero (como se permite en C).</p>
<p>Puedes usar <code>if</code> y <code>let</code> juntos para trabajar con valores que pueden
faltar. Estos valores se representan como opcionales. Un valor
opcional o bien contiene un valor o contiene <code>nil</code> para indicar que el
valor falta. Escribe una interrogación (<code>?</code>) después del tipo de un
valor para marcar el valor como opcional.</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nv">cadenaOpcional</span><span class="p">:</span> <span class="nb">String</span><span class="p">?</span> <span class="p">=</span> <span class="s">&quot;Hola&quot;</span>
<span class="bp">print</span><span class="p">(</span><span class="n">cadenaOpcional</span> <span class="p">==</span> <span class="kc">nil</span><span class="p">)</span>

<span class="kd">var</span> <span class="nv">nombreOpcional</span><span class="p">:</span> <span class="nb">String</span><span class="p">?</span> <span class="p">=</span> <span class="s">&quot;John Appleseed&quot;</span>
<span class="kd">var</span> <span class="nv">saludo</span> <span class="p">=</span> <span class="s">&quot;Hola!&quot;</span>
<span class="k">if</span> <span class="kd">let</span> <span class="nv">nombre</span> <span class="p">=</span> <span class="n">nombreOpcional</span> <span class="p">{</span>
    <span class="n">saludo</span> <span class="p">=</span> <span class="s">&quot;Hola, </span><span class="si">\(</span><span class="n">nombre</span><span class="si">)</span><span class="s">&quot;</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">saludo</span><span class="p">)</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 4</p>
<p>Cambia <code>nombreOpcional</code> a <code>nil</code>. ¿Qué saludo obtienes? Añade una
cláusula <code>else</code> que establezca un saludo diferente si
<code>nombreOpcional</code> es <code>nil</code>.</p>
</div>
<p>Si el valor opcional es <code>nil</code>, el condicional es <code>false</code> y el código
en las llaves se salta. En otro caso, el valor opcional se <em>desenvuelve</em>
y se asigna a la constante después del <code>let</code>, lo que hace que el valor
desenvuelto esté disponible dentro del bloque de código.</p>
<p>Otra forma de manejar valores opcionales es proporcionar un valor por
defecto usando el operador <code>??</code>. Si falta el valor valor opcional, se
usa el valor por defecto en su lugar.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">nombrePila</span><span class="p">:</span> <span class="nb">String</span><span class="p">?</span> <span class="p">=</span> <span class="kc">nil</span>
<span class="kd">let</span> <span class="nv">nombreCompleto</span><span class="p">:</span> <span class="nb">String</span> <span class="p">=</span> <span class="s">&quot;John Appleseed&quot;</span>
<span class="kd">let</span> <span class="nv">saludoInformal</span> <span class="p">=</span> <span class="s">&quot;¿Qué tal, </span><span class="si">\(</span><span class="n">nombrePila</span> <span class="p">??</span> <span class="n">nombreCompleto</span><span class="si">)</span><span class="s">?&quot;</span>
</code></pre></div>
<p>Las sentencias <code>switch</code> permiten cualquier tipo de datos y una amplia
variedad de operaciones de comparación; no están limitados a enteros y
pruebas de igualdad.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">verdura</span> <span class="p">=</span> <span class="s">&quot;pimiento rojo&quot;</span>
<span class="k">switch</span> <span class="n">verdura</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s">&quot;zanahoria&quot;</span><span class="p">:</span>
        <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Buena para la vista.&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="s">&quot;lechuga&quot;</span><span class="p">,</span> <span class="s">&quot;tomates&quot;</span><span class="p">:</span>
        <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Podrías hacer una buena ensalada.&quot;</span><span class="p">)</span>
    <span class="k">default</span><span class="p">:</span>
        <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Siempre puedes hacer una buena sopa.&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 5</p>
<p>Intenta eliminar el caso por defecto. ¿Qué error obtienes?</p>
</div>
<p>Después de ejecutar el código dentro del caso que se empareja, el
programa sale de la sentencia <code>switch</code>. La ejecución no continua con
el siguiente caso, por lo que no hay necesidad de romper el <code>switch</code>
al final del código de cada caso.</p>
<p>Usa <code>for-in</code> para iterar sobre elementos en un diccionario
proporcionando una pareja de nombres para usar en cada pareja
clave-valor. Los diccionarios son colecciones desordenadas, por lo que
sus claves y valores se iteran en un orden arbitrario.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">numerosInteresantes</span> <span class="p">=</span> <span class="p">[</span>
    <span class="s">&quot;Primos&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">],</span>
    <span class="s">&quot;Fibonacci&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
    <span class="s">&quot;Cuadrados&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span>
<span class="p">]</span>
<span class="kd">var</span> <span class="nv">mayor</span> <span class="p">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="p">(</span><span class="n">clase</span><span class="p">,</span> <span class="n">numeros</span><span class="p">)</span> <span class="k">in</span> <span class="n">numerosInteresantes</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">num</span> <span class="k">in</span> <span class="n">numeros</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="n">mayor</span> <span class="p">{</span>
            <span class="n">mayor</span> <span class="p">=</span> <span class="n">num</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">mayor</span><span class="p">)</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 6</p>
<p>Añade otra variable para seguir qué clase de número es el mayor.</p>
</div>
<p>Usa <code>while</code> para repetir un bloque de código hasta que una condición
cambie. La condición de un bucle puede estar también al final,
asegurando que el bucle se ejecuta al menos una vez.</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nv">n</span> <span class="p">=</span> <span class="mi">2</span>
<span class="k">while</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="p">{</span>
    <span class="n">n</span> <span class="o">*=</span> <span class="mi">2</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="kd">var</span> <span class="nv">m</span> <span class="p">=</span> <span class="mi">2</span>
<span class="k">repeat</span> <span class="p">{</span>
    <span class="n">m</span> <span class="o">*=</span>  <span class="mi">2</span>
<span class="p">}</span> <span class="k">while</span> <span class="n">m</span> <span class="o">&lt;</span> <span class="mi">100</span>
<span class="bp">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</code></pre></div>
<p>Puedes definir un índice en un bucle usando <code>..&lt;</code> para construir un
rango de índices.</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nv">total</span> <span class="p">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">0.</span><span class="p">.&lt;</span><span class="mi">4</span> <span class="p">{</span>
    <span class="n">total</span> <span class="o">+=</span> <span class="n">i</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
</code></pre></div>
<p>Usa <code>..&lt;</code> para construir un rango que omita su valor superior, y usa
<code>...</code> para construir un rango que incluya ambos valores.</p>
<h4 id="funciones-y-clausuras">Funciones y clausuras<a class="headerlink" href="#funciones-y-clausuras" title="Permanent link">&para;</a></h4>
<p>Usa <code>func</code> para declarar una función. Usa <code>-&gt;</code> para separar los
nombres de los parámetros y sus tipos del tipo devuelto de la
función.</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">saluda</span><span class="p">(</span><span class="n">nombre</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="n">dia</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">&quot;Hola </span><span class="si">\(</span><span class="n">nombre</span><span class="si">)</span><span class="s">, hoy es </span><span class="si">\(</span><span class="n">dia</span><span class="si">)</span><span class="s">.&quot;</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">saluda</span><span class="p">(</span><span class="n">nombre</span><span class="p">:</span> <span class="s">&quot;Bob&quot;</span><span class="p">,</span> <span class="n">dia</span><span class="p">:</span> <span class="s">&quot;Martes&quot;</span><span class="p">))</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 7</p>
<p>Elimina el parámetro día. Añade un parámetro para incluir la comida
de hoy en el saludo.</p>
</div>
<p>Por defecto, las funciones usan los nombres de los parámetros como
etiquetas de los argumentos. Es posible definir una etiqueta
escribiéndola antes del nombre del parámetro, o no usar etiqueta
escribiendo <code>_</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">saluda</span><span class="p">(</span><span class="kc">_</span> <span class="n">nombre</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="n">el</span> <span class="n">dia</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">&quot;Hola </span><span class="si">\(</span><span class="n">nombre</span><span class="si">)</span><span class="s">, hoy es </span><span class="si">\(</span><span class="n">dia</span><span class="si">)</span><span class="s">.&quot;</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">saluda</span><span class="p">(</span><span class="s">&quot;Bob&quot;</span><span class="p">,</span> <span class="n">el</span><span class="p">:</span> <span class="s">&quot;Martes&quot;</span><span class="p">))</span>
</code></pre></div>
<p>Las funciones pueden devolver cualquier tipo de dato, como tuplas.</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">calculaEstadisticas</span><span class="p">(</span><span class="n">puntuaciones</span><span class="p">:</span> <span class="p">[</span><span class="nb">Int</span><span class="p">])</span> <span class="p">-&gt;</span> 
                        <span class="p">(</span><span class="bp">min</span><span class="p">:</span> <span class="nb">Int</span><span class="p">,</span> <span class="bp">max</span><span class="p">:</span> <span class="nb">Int</span><span class="p">,</span> <span class="n">sum</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">min</span> <span class="p">=</span> <span class="n">puntuaciones</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="kd">var</span> <span class="nv">max</span> <span class="p">=</span> <span class="n">puntuaciones</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="kd">var</span> <span class="nv">sum</span> <span class="p">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">puntuacion</span> <span class="k">in</span> <span class="n">puntuaciones</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">puntuacion</span> <span class="o">&gt;</span> <span class="bp">max</span> <span class="p">{</span>
            <span class="bp">max</span> <span class="p">=</span> <span class="n">puntuacion</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">puntuacion</span> <span class="o">&lt;</span> <span class="bp">min</span> <span class="p">{</span>
            <span class="bp">min</span> <span class="p">=</span> <span class="n">puntuacion</span>
        <span class="p">}</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">puntuacion</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">(</span><span class="bp">min</span><span class="p">,</span> <span class="bp">max</span><span class="p">,</span> <span class="n">sum</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nv">estadisticas</span> <span class="p">=</span> <span class="n">calculaEstadisticas</span><span class="p">(</span><span class="n">puntuaciones</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="bp">print</span><span class="p">(</span><span class="n">estadisticas</span><span class="p">.</span><span class="n">sum</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="n">estadisticas</span><span class="p">.</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>Las funciones también pueden tener un número variable de argumentos,
agrupándose todos ellos en un array.</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">suma</span><span class="p">(</span><span class="n">numeros</span><span class="p">:</span> <span class="nb">Int</span><span class="p">...)</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">suma</span> <span class="p">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">num</span> <span class="k">in</span> <span class="n">numeros</span> <span class="p">{</span>
        <span class="n">suma</span> <span class="o">+=</span> <span class="n">num</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">suma</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">suma</span><span class="p">())</span>
<span class="bp">print</span><span class="p">(</span><span class="n">suma</span><span class="p">(</span><span class="n">numeros</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">597</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 8</p>
<p>Escribe una función que calcule la media de sus argumentos.</p>
</div>
<p>Las funciones pueden anidarse. Las funciones pueden acceder variables
declaradas en la función exterior. Puedes usar funciones anidadas para
organizar el código en una función que es larga o complicada.</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">devuelveQuince</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">y</span> <span class="p">=</span> <span class="mi">10</span>
    <span class="kd">func</span> <span class="nf">suma</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="mi">5</span>
    <span class="p">}</span>
    <span class="n">suma</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">y</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">devuelveQuince</span><span class="p">())</span>
</code></pre></div>
<p>Las funciones son un tipo de primera clase. Esto significa que una
función puede devolver otra función como resultado.</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">construyeIncrementador</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="p">((</span><span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">sumaUno</span><span class="p">(</span><span class="n">numero</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">numero</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">sumaUno</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nv">incrementa</span> <span class="p">=</span> <span class="n">construyeIncrementador</span><span class="p">()</span>
<span class="bp">print</span><span class="p">(</span><span class="n">incrementa</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
</code></pre></div>
<p>Podemos modificar el ejemplo <code>devuelveQuince</code> para que se devuelva una
versión modificada de la función <code>suma</code>. Llamamos a la función
<code>devuelveSuma</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">devuelveSuma</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="p">(()</span> <span class="p">-&gt;</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">y</span> <span class="p">=</span> <span class="mi">10</span>
    <span class="kd">func</span> <span class="nf">suma</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="p">{</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="mi">5</span>
        <span class="k">return</span> <span class="n">y</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">suma</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nv">f</span> <span class="p">=</span> <span class="n">devuelveSuma</span><span class="p">()</span>
<span class="bp">print</span><span class="p">(</span><span class="n">f</span><span class="p">())</span>
<span class="bp">print</span><span class="p">(</span><span class="n">f</span><span class="p">())</span>
</code></pre></div>
<p>Una función puede tomar otra función como uno de sus argumentos.</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">cumpleCondicion</span><span class="p">(</span><span class="n">lista</span><span class="p">:</span> <span class="p">[</span><span class="nb">Int</span><span class="p">],</span> <span class="n">condicion</span><span class="p">:</span> <span class="p">(</span><span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">item</span> <span class="k">in</span> <span class="n">lista</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">condicion</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">false</span>
<span class="p">}</span>
<span class="kd">func</span> <span class="nf">menorQueDiez</span><span class="p">(</span><span class="n">numero</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">numero</span> <span class="o">&lt;</span> <span class="mi">10</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nv">numeros</span> <span class="p">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
<span class="bp">print</span><span class="p">(</span><span class="n">cumpleCondicion</span><span class="p">(</span><span class="n">lista</span><span class="p">:</span> <span class="n">numeros</span><span class="p">,</span> <span class="n">condicion</span><span class="p">:</span> <span class="n">menorQueDiez</span><span class="p">))</span>
</code></pre></div>
<p>Las funciones son en la realidad un caso especial de clausuras:
bloques de código que pueden ser llamados después.  El código en la
clausura tiene acceso a cosas como variables y funciones que estaban
disponibles en el ámbito (<em>scope</em>) en el que se creó la clausura,
incluso si la clausura está en un ámbito distinto cuando se
ejecuta; ya viste un ejemplo de esto con las funciones
anidadas. Puedes escribir una clausura rodeando el código con llaves
(<code>{}</code>). Usa <code>in</code> para separar los argumentos del cuerpo.</p>
<div class="highlight"><pre><span></span><code><span class="n">numeros</span><span class="p">.</span><span class="bp">map</span><span class="p">({</span>
    <span class="p">(</span><span class="n">numero</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="k">in</span>
    <span class="kd">let</span> <span class="nv">resultado</span> <span class="p">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">numero</span>
    <span class="k">return</span> <span class="n">resultado</span>
<span class="p">})</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 9</p>
<p>Reescribe la clausura para que devuelva cero para todos los números
impares.</p>
</div>
<p>Tienes bastantes opciones para escribir clausuras de forma más
concisa. Cuando ya se conoce el tipo de una clausura puedes omitir el
tipo de sus parámetros, el tipo devuelto o ambos. Las clausuras
escritas en una sentencia devuelven implícitamente el valor de esa única
sentencia.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">numerosMapeados</span> <span class="p">=</span> <span class="n">numeros</span><span class="p">.</span><span class="bp">map</span><span class="p">({</span> <span class="n">numero</span> <span class="k">in</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">numero</span> <span class="p">})</span>
<span class="bp">print</span><span class="p">(</span><span class="n">numerosMapeados</span><span class="p">)</span>
</code></pre></div>
<p>Puedes referirte a los parámetros por número en lugar de por nombre;
este enfoque es especialmente útil en clausuras muy cortas. Una
clausura pasada como último argumento puede aparecer inmediatamente
después de los paréntesis. Cuando una clausura es el único argumento
de una función, puedes omitir los paréntesis por completo.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">numerosOrdenados</span> <span class="p">=</span> <span class="n">numeros</span><span class="p">.</span><span class="bp">sorted</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&gt;</span> <span class="nv">$1</span> <span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">numerosOrdenados</span><span class="p">)</span>
</code></pre></div>
<h4 id="objetos-y-clases">Objetos y clases<a class="headerlink" href="#objetos-y-clases" title="Permanent link">&para;</a></h4>
<p>Usa <code>class</code> seguido por el nombre de la clase para crear una
clase. Una declaración de una propiedad en una clase se escribe de la
misma forma que la declaración de una constante o una variable,
excepto que está en el contexto de una clase. De la misma forma, las
declaraciones de los métodos se escriben de la misma forma que las
funciones.</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Figura</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">numeroDeLados</span> <span class="p">=</span> <span class="mi">0</span>
    <span class="kd">func</span> <span class="nf">descripcionSencilla</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">&quot;Una figura con </span><span class="si">\(</span><span class="n">numeroDeLados</span><span class="si">)</span><span class="s"> lados.&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 10</p>
<p>Añade una propiedad constante con <code>let</code>, y añade otro método que
tome un argumento.</p>
</div>
<p>Crea una instancia de una clase poniendo paréntesis después del nombre
de la clase. Usa la sintaxis de punto para acceder a las propiedades y
los métodos de la instancia.</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nv">figura</span> <span class="p">=</span> <span class="n">Figura</span><span class="p">()</span>
<span class="n">figura</span><span class="p">.</span><span class="n">numeroDeLados</span> <span class="p">=</span> <span class="mi">7</span>
<span class="kd">var</span> <span class="nv">descripcionFigura</span> <span class="p">=</span> <span class="n">figura</span><span class="p">.</span><span class="n">descripcionSencilla</span><span class="p">()</span>
</code></pre></div>
<p>A esta versión de la clase <code>Figura</code> le falta algo importante: un
inicializador para preparar la clase cuando se crea una instancia. Usa
<code>init</code> para crear uno.</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">FiguraConNombre</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">numeroDeLados</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">=</span> <span class="mi">0</span>
    <span class="kd">var</span> <span class="nv">nombre</span><span class="p">:</span> <span class="nb">String</span>

    <span class="kd">init</span><span class="p">(</span><span class="n">nombre</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">nombre</span> <span class="p">=</span> <span class="n">nombre</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">descripcionSencilla</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">&quot;Una figura con </span><span class="si">\(</span><span class="n">numeroDeLados</span><span class="si">)</span><span class="s"> lados.&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Fíjate en cómo se utiliza <code>self</code> para distinguir la propiedad <code>nombre</code>
del argumento <code>nombre</code> al inicializador. Los argumentos al
inicializador se pasan como una llamada a una función cuando creas una
instancia de la clase. Cada propiedad necesita un valor asignado; ya
sea en su declaración (como <code>numeroDeLados</code>) o en el inicializador
(como <code>nombre</code>).</p>
<p>Las subclases incluyen el nombre de su subclase después del nombre de
la clase, separado por dos puntos. No hay ningún requisito de que las
clases deban ser subclases de alguna clase raíz, por lo que puedes
omitir una superclase si así lo necesitas.</p>
<p>Los métodos en una subclase que sobreescriben la implementación de la
superclase se marcan con <code>override</code>; la sobreescritura de un método
por accidente, sin <code>override</code>, se detecta por el compilador como un
error. El compilador también detecta métodos con <code>override</code> que
realmente no sobreescriben ningún método de la superclase.</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Cuadrado</span><span class="p">:</span> <span class="n">FiguraConNombre</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">longitudLado</span><span class="p">:</span> <span class="nb">Double</span>

    <span class="kd">init</span><span class="p">(</span><span class="n">longitudLado</span><span class="p">:</span> <span class="nb">Double</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">longitudLado</span> <span class="p">=</span> <span class="n">longitudLado</span>
        <span class="kc">super</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">nombre</span><span class="p">:</span> <span class="n">nombre</span><span class="p">)</span>
        <span class="n">numeroDeLados</span> <span class="p">=</span> <span class="mi">4</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">area</span><span class="p">()</span> <span class="p">-&gt;</span>  <span class="nb">Double</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">longitudLado</span> <span class="o">*</span> <span class="n">longitudLado</span>
    <span class="p">}</span>

    <span class="kr">override</span> <span class="kd">func</span> <span class="nf">descripcionSencilla</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">&quot;Un cuadrado con lados de longitud </span><span class="si">\(</span><span class="n">longitudLado</span><span class="si">)</span><span class="s">.&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nv">test</span> <span class="p">=</span> <span class="n">Cuadrado</span><span class="p">(</span><span class="n">longitudLado</span><span class="p">:</span> <span class="mf">5.2</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="s">&quot;Mi cuadrado de prueba&quot;</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="n">test</span><span class="p">.</span><span class="n">area</span><span class="p">())</span>
<span class="bp">print</span><span class="p">(</span><span class="n">test</span><span class="p">.</span><span class="n">descripcionSencilla</span><span class="p">())</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 11</p>
<p>Construye otra subclase de <code>FiguraConNombre</code> llamada <code>Circulo</code> que
tome un radio y un nombre como argumentos de su
inicializador. Implementa un método <code>area()</code> y
<code>descripcionSencilla()</code> en la clase <code>Circulo</code>.</p>
</div>
<p>Además de propiedades simples que se almacenan, las propiedades pueden
tener un <em>getter</em> y un <em>setter</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">TrianguloEquilatero</span><span class="p">:</span> <span class="n">FiguraConNombre</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">longitudLado</span><span class="p">:</span> <span class="nb">Double</span> <span class="p">=</span> <span class="mf">0.0</span>

    <span class="kd">init</span><span class="p">(</span><span class="n">longitudLado</span><span class="p">:</span> <span class="nb">Double</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">longitudLado</span> <span class="p">=</span> <span class="n">longitudLado</span>
        <span class="kc">super</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">nombre</span><span class="p">:</span> <span class="n">nombre</span><span class="p">)</span>
        <span class="n">numeroDeLados</span> <span class="p">=</span> <span class="mi">3</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nv">perimetro</span><span class="p">:</span> <span class="nb">Double</span> <span class="p">{</span>
        <span class="kr">get</span> <span class="p">{</span>
            <span class="k">return</span> <span class="mf">3.0</span> <span class="o">*</span> <span class="n">longitudLado</span>
        <span class="p">}</span>
        <span class="kr">set</span> <span class="p">{</span>
            <span class="n">longitudLado</span> <span class="p">=</span> <span class="n">newValue</span> <span class="o">/</span> <span class="mf">3.0</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kr">override</span> <span class="kd">func</span> <span class="nf">descripcionSencilla</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">&quot;Un triangulo equilátero con lados de longitud </span><span class="si">\(</span><span class="n">longitudLado</span><span class="si">)</span><span class="s">.&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nv">triangulo</span> <span class="p">=</span> <span class="n">TrianguloEquilatero</span><span class="p">(</span><span class="n">longitudLado</span><span class="p">:</span> <span class="mf">3.1</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="s">&quot;un triángulo&quot;</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="n">triangulo</span><span class="p">.</span><span class="n">perimetro</span><span class="p">)</span>
<span class="n">triangulo</span><span class="p">.</span><span class="n">perimetro</span> <span class="p">=</span> <span class="mf">9.9</span>
<span class="bp">print</span><span class="p">(</span><span class="n">triangulo</span><span class="p">.</span><span class="n">longitudLado</span><span class="p">)</span>
</code></pre></div>
<p>En el <em>setter</em> de <code>perimetro</code>, el nuevo valor tiene el nombre
implícito <code>newValue</code>. Puedes proporcionar un nombre explícito en el
paréntesis después de <code>set</code>.</p>
<p>Date cuenta de que el inicializador de la clase <code>TrianguloEquilatero</code>
tiene tres pasos diferentes:</p>
<ol>
<li>Establecer el valor de las propiedades que declara la subclase.</li>
<li>Llamar al inicializador de la superclase.</li>
<li>Cambiar el valor de las propiedades definidas por la
   superclase. Cualquier trabajo adicional que use métodos, <em>getters</em>
   o <em>setters</em> puede hacerse también en este punto.</li>
</ol>
<!--
Si no necesitas calcular la propiedad pero necesitas proporcionar
código que se ejecuta antes y después de establecer un nuevo valor,
usa `willSet` y `didSet`. El código que proporcionas se ejecuta cada
vez que el valor cambia fuera de un inicializador. Por ejemplo, la
siguiente clase se asegura de que la longitud del lado de su triángulo
siempre es la misma que la longitud del lado de su cuadrado.

<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">TrianguloYCuadrado</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">triangulo</span><span class="p">:</span> <span class="n">TrianguloEquilatero</span> <span class="p">{</span>
        <span class="kr">willSet</span> <span class="p">{</span>
            <span class="n">cuadrado</span><span class="p">.</span><span class="n">longitudLado</span> <span class="p">=</span> <span class="n">newValue</span><span class="p">.</span><span class="n">longitudLado</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nv">cuadrado</span><span class="p">:</span> <span class="n">Cuadrado</span> <span class="p">{</span>
        <span class="kr">willSet</span> <span class="p">{</span>
            <span class="n">triangulo</span><span class="p">.</span><span class="n">longitudLado</span> <span class="p">=</span> <span class="n">newValue</span><span class="p">.</span><span class="n">longitudLado</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kd">init</span><span class="p">(</span><span class="n">tamaño</span><span class="p">:</span> <span class="nb">Double</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cuadrado</span> <span class="p">=</span> <span class="n">Cuadrado</span><span class="p">(</span><span class="n">longitudLado</span><span class="p">:</span> <span class="n">tamaño</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="n">nombre</span><span class="p">)</span>
        <span class="n">triangulo</span> <span class="p">=</span> <span class="n">TrianguloEquilatero</span><span class="p">(</span><span class="n">longitudLado</span><span class="p">:</span> <span class="n">tamaño</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="n">nombre</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nv">trianguloYCuadrado</span> <span class="p">=</span> <span class="n">TrianguloYCuadrado</span><span class="p">(</span><span class="n">tamaño</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="s">&quot;Otra figura de prueba&quot;</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="n">trianguloYCuadrado</span><span class="p">.</span><span class="n">cuadrado</span><span class="p">.</span><span class="n">longitudLado</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="n">trianguloYCuadrado</span><span class="p">.</span><span class="n">triangulo</span><span class="p">.</span><span class="n">longitudLado</span><span class="p">)</span>
<span class="n">trianguloYCuadrado</span><span class="p">.</span><span class="n">cuadrado</span> <span class="p">=</span> <span class="n">Cuadrado</span><span class="p">(</span><span class="n">longitudLado</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="s">&quot;Cuadrado mayor&quot;</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="n">trianguloYCuadrado</span><span class="p">.</span><span class="n">triangulo</span><span class="p">.</span><span class="n">longitudLado</span><span class="p">)</span>
</code></pre></div>

Cuando trabajamos con valores opcionales, puedes escribir `?` antes de
operaciones como métodos, propiedades y subíndices. Si el valor antes
del `?` es `nil`, todo lo que hay después se ignora y el valor de la
expresión completa es `nil`. En otro caso, el valor opcional se
desenvuelve, y todo lo que hay después del `?` se realiza sobre el
valor desenvuelto. En ambos casos, el valor de la expresión completa
es un valor opcional.

<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">cuadradoOpcional</span><span class="p">:</span> <span class="n">Cuadrado</span><span class="p">?</span> <span class="p">=</span> <span class="n">Cuadrado</span><span class="p">(</span><span class="n">longitudLado</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span> <span class="n">nombre</span><span class="p">:</span> <span class="s">&quot;Cuadrado opcional&quot;</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">longitudLado</span> <span class="p">=</span> <span class="n">cuadradoOpcional</span><span class="p">?.</span><span class="n">longitudLado</span>
</code></pre></div>
-->

<h4 id="enumeraciones-y-estructuras">Enumeraciones y estructuras<a class="headerlink" href="#enumeraciones-y-estructuras" title="Permanent link">&para;</a></h4>
<p>Usa <code>enum</code> para crear una enumeración. Como las clases y otros tipos
con nombre, las enumeraciones pueden tener métodos asociados.</p>
<div class="highlight"><pre><span></span><code><span class="kd">enum</span> <span class="nc">Valor</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">uno</span> <span class="p">=</span> <span class="mi">1</span>
    <span class="k">case</span> <span class="n">dos</span><span class="p">,</span> <span class="n">tres</span><span class="p">,</span> <span class="n">cuatro</span><span class="p">,</span> <span class="n">cinco</span><span class="p">,</span> <span class="n">seis</span><span class="p">,</span> <span class="n">siete</span><span class="p">,</span> <span class="n">ocho</span><span class="p">,</span> <span class="n">nueve</span><span class="p">,</span> <span class="n">diez</span>
    <span class="k">case</span> <span class="n">sota</span><span class="p">,</span> <span class="n">caballo</span><span class="p">,</span> <span class="n">rey</span>
    <span class="kd">func</span> <span class="nf">descripcionSencilla</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="kc">self</span> <span class="p">{</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">uno</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&quot;as&quot;</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">sota</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&quot;sota&quot;</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">caballo</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&quot;caballo&quot;</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">rey</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&quot;rey&quot;</span>
        <span class="k">default</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">String</span><span class="p">(</span><span class="kc">self</span><span class="p">.</span><span class="n">rawValue</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nv">carta</span> <span class="p">=</span> <span class="n">Valor</span><span class="p">.</span><span class="n">uno</span>
<span class="kd">let</span> <span class="nv">valorBrutoCarta</span> <span class="p">=</span> <span class="n">carta</span><span class="p">.</span><span class="n">rawValue</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 12</p>
<p>Escribe una función que compare dos valores <code>Valor</code> a través de una
comparación de sus valores brutos.</p>
</div>
<p>Por defecto, Swift asigna los valores brutos comenzando en cero e
incrementándolos por uno cada vez, pero puedes cambiar esta conducta
especificando explícitamente los valores. En el ejemplo anterior, a
<code>As</code> se le da un valor bruto de <code>1</code> y el resto de los valores brutos
se asignan en orden. Puedes también usar cadenas o números en punto
flotante como valores brutos de una enumeración. Utiliza la propiedad
<code>rawValue</code> para acceder al valor bruto de una enumeración.</p>
<p>Usa el inicializador para construir un valor de una enumeración a
través de un valor bruto. Si el valor bruto no existe, el
inicializador devolverá <code>nil</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="kd">let</span> <span class="nv">valorConvertido</span> <span class="p">=</span> <span class="n">Valor</span><span class="p">(</span><span class="n">rawValue</span><span class="p">:</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">descripcionTres</span> <span class="p">=</span> <span class="n">valorConvertido</span><span class="p">.</span><span class="n">descripcionSencilla</span><span class="p">()</span>
    <span class="bp">print</span><span class="p">(</span><span class="n">descripcionTres</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Los valores <em>case</em> de una enumeración son valores reales, no una forma
nueva de escribir sus valores brutos. De hecho, en los casos en los
que no hay un valor bruto que tenga sentido, no tienes que
proporcionar uno.</p>
<div class="highlight"><pre><span></span><code><span class="kd">enum</span> <span class="nc">Palo</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">oros</span><span class="p">,</span> <span class="n">bastos</span><span class="p">,</span> <span class="n">copas</span><span class="p">,</span> <span class="n">espadas</span>
    <span class="kd">func</span> <span class="nf">descripcionSencilla</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="kc">self</span> <span class="p">{</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">oros</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&quot;oros&quot;</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">bastos</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&quot;bastos&quot;</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">copas</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&quot;copas&quot;</span>
        <span class="k">case</span> <span class="p">.</span><span class="n">espadas</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&quot;espadas&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nv">copas</span> <span class="p">=</span> <span class="n">Palo</span><span class="p">.</span><span class="n">copas</span>
<span class="kd">let</span> <span class="nv">descripcionCopas</span> <span class="p">=</span> <span class="n">copas</span><span class="p">.</span><span class="n">descripcionSencilla</span><span class="p">()</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 13</p>
<p>Añade un método <code>color()</code> a <code>Palo</code> que devuelva "agresivo" para
<em>bastos</em> y <em>espadas</em> y devuelva "reflexivo" para <em>oros</em> y <em>copas</em>.</p>
</div>
<p>Date cuenta de las dos formas en las que nos referimos al caso <code>copas</code>
de la enumeración anterior: cuando se asigna un valor a la constante
<code>copas</code>, nos referimos al caso de la enumeración <code>Palo.copas</code> usando
su nombre completo porque la constante no tiene un tipo explícito
especificado. Dentro del <code>switch</code>, nos referimos al caso de la
enumeración con la forma abreviada <code>.copas</code> porque ya se sabe que el
valor de <code>self</code> es un <code>Palo</code>. Puedes usar la forma abreviada en
cualquier momento en que el tipo del valor ya se conozca.</p>
<p>Una instancia de un caso de enumeración puede tener valores asociados
con la instancia. Instancias del mismo caso de enumeración pueden
tener asociados valores diferentes. Proporcionas los valores asociados
cuando creas la instancia. Los valores asociados y los valores brutos
son distintos: el valor bruto de un caso de enumeración es el mismo
para todas las instancias, mientras que proporcionas el valor asociado
cuando defines la enumeración.</p>
<p>Por ejemplo, considera el caso de realizar una petición a un servidor
de la hora de salir el sol y de la hora de ponerse el sol. El servidor
responde con la información o responde con alguna información de
error.</p>
<div class="highlight"><pre><span></span><code><span class="kd">enum</span> <span class="nc">RespuestaServidor</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">resultado</span><span class="p">(</span><span class="nb">String</span><span class="p">,</span> <span class="nb">String</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">error</span><span class="p">(</span><span class="nb">String</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nv">exito</span> <span class="p">=</span> <span class="n">RespuestaServidor</span><span class="p">.</span><span class="n">resultado</span><span class="p">(</span><span class="s">&quot;6:00 am&quot;</span><span class="p">,</span> <span class="s">&quot;8:09 pm&quot;</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">fallo</span> <span class="p">=</span> <span class="n">RespuestaServidor</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;Sin queso.&quot;</span><span class="p">)</span>

<span class="k">switch</span> <span class="n">exito</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="p">.</span><span class="n">resultado</span><span class="p">(</span><span class="n">salidaSol</span><span class="p">,</span> <span class="n">puestaSol</span><span class="p">):</span>
        <span class="bp">print</span><span class="p">(</span><span class="s">&quot;La salida del sol es a las </span><span class="si">\(</span><span class="n">salidaSol</span><span class="si">)</span><span class="s"> y la puesta es a </span><span class="si">\(</span><span class="n">puestaSol</span><span class="si">)</span><span class="s">.&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Fallo...  </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 14</p>
<p>Añade un tercer caso al <code>ServerResponse</code> y al switch.</p>
</div>
<p>Date cuenta de cómo la hora de salir el sol y de ponerse el sol se
extraen del <code>ServerResponse</code> como parte del emparejamiento entre el
valor y los casos switch.</p>
<p>Usa <code>struct</code> para crear una estructura. Las estructuras comparten
muchas características de las clases, incluyendo métodos e
inicializadores. Una de las diferencias más importantes entre
estructuras y clases es que las estructuras siempre se copian cuando
las pasas en tu código, mientras que las clases se pasan por
referencia.</p>
<div class="highlight"><pre><span></span><code><span class="kd">struct</span> <span class="nc">Carta</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">valor</span><span class="p">:</span> <span class="n">Valor</span>
    <span class="kd">var</span> <span class="nv">palo</span><span class="p">:</span> <span class="n">Palo</span>
    <span class="kd">func</span> <span class="nf">descripcionSencilla</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">&quot;El </span><span class="si">\(</span><span class="n">valor</span><span class="p">.</span><span class="n">descripcionSencilla</span><span class="si">())</span><span class="s"> de </span><span class="si">\(</span><span class="n">palo</span><span class="p">.</span><span class="n">descripcionSencilla</span><span class="si">())</span><span class="s">&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nv">tresDeEspadas</span> <span class="p">=</span> <span class="n">Carta</span><span class="p">(</span><span class="n">valor</span><span class="p">:</span> <span class="p">.</span><span class="n">tres</span><span class="p">,</span> <span class="n">palo</span><span class="p">:</span> <span class="p">.</span><span class="n">espadas</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">descripcionTresDeEspadas</span> <span class="p">=</span> <span class="n">tresDeEspadas</span><span class="p">.</span><span class="n">descripcionSencilla</span><span class="p">()</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Experimento 15</p>
<p>Añade un método a <code>Carta</code> que cree un mazo completo de cartas, con
una carta de cada combinación de valor y palo.</p>
</div>
<!--

#### Protocolos y extensiones

Usa `protocol` para declarar un protocolo.

<div class="highlight"><pre><span></span><code><span class="kd">protocol</span> <span class="nc">ProtocoloEjemplo</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">descripcionSencilla</span><span class="p">:</span> <span class="nb">String</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
    <span class="kr">mutating</span> <span class="kd">func</span> <span class="nf">ajustar</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>

Clases, enumeraciones y estructuras pueden todas adoptar protocolos.

<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">ClaseSencilla</span><span class="p">:</span> <span class="n">ProtocoloEjemplo</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">descripcionSencilla</span><span class="p">:</span> <span class="nb">String</span> <span class="p">=</span> <span class="s">&quot;Una clase muy simple.&quot;</span>
    <span class="kd">var</span> <span class="nv">otraPropiedad</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">=</span> <span class="mi">69105</span>
    <span class="kd">func</span> <span class="nf">ajustar</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">descripcionSencilla</span> <span class="o">+=</span> <span class="s">&quot;  Ahora 100% ajustada.&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nv">a</span> <span class="p">=</span> <span class="n">ClaseSencilla</span><span class="p">()</span>
<span class="n">a</span><span class="p">.</span><span class="n">ajustar</span><span class="p">()</span>
<span class="kd">let</span> <span class="nv">descripcionA</span> <span class="p">=</span> <span class="n">a</span><span class="p">.</span><span class="n">descripcionSencilla</span>

<span class="kd">struct</span> <span class="nc">EstructuraSencilla</span><span class="p">:</span> <span class="n">ProtocoloEjemplo</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">descripcionSencilla</span><span class="p">:</span> <span class="nb">String</span> <span class="p">=</span> <span class="s">&quot;Una estructura sencilla&quot;</span>
    <span class="kr">mutating</span> <span class="kd">func</span> <span class="nf">ajustar</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">descripcionSencilla</span> <span class="o">+=</span> <span class="s">&quot; (ajustada)&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nv">b</span> <span class="p">=</span> <span class="n">EstructuraSencilla</span><span class="p">()</span>
<span class="n">b</span><span class="p">.</span><span class="n">ajustar</span><span class="p">()</span>
<span class="kd">let</span> <span class="nv">descripcionB</span> <span class="p">=</span> <span class="n">b</span><span class="p">.</span><span class="n">descripcionSencilla</span>
</code></pre></div>

!!! Example "Experimento 16"
    Escribe una enumeración que cumpla el protocolo.

Date cuenta del uso de la palabra clave `mutating` en la declaración
de `EstructuraSencilla` para marcar el método que modifica la
estructura. La declaración de `ClaseSencilla` no necesita que se marquen
como mutadores ninguno de sus métodos porque los métodos en una clase
siempre pueden modificar la clase.

Usa `extension` para añadir funcionalidad a un tipo existente, como
métodos nuevos y propiedades calculadas. Puedes utilizar una extensión
para añadir un cumplimiento de un protocolo a un tipo que se declara
en otro lugar, o incluso a un tipo que hayas importado de una
biblioteca o un *framework*.

<div class="highlight"><pre><span></span><code><span class="kd">extension</span> <span class="nc">Int</span><span class="p">:</span> <span class="n">ProtocoloEjemplo</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">descripcionSencilla</span><span class="p">:</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">&quot;El número </span><span class="si">\(</span><span class="kc">self</span><span class="si">)</span><span class="s">&quot;</span>
    <span class="p">}</span>
    <span class="kr">mutating</span> <span class="kd">func</span> <span class="nf">ajustar</span><span class="p">()</span> <span class="p">{</span>
        <span class="kc">self</span> <span class="o">+=</span> <span class="mi">42</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="mf">7.</span><span class="n">descripcionSencilla</span><span class="p">)</span>
</code></pre></div>

Otro ejemplo usando una función:

<div class="highlight"><pre><span></span><code><span class="kd">extension</span> <span class="nc">Int</span> <span class="p">{</span> 
    <span class="kd">func</span> <span class="nf">repetir</span><span class="p">(</span><span class="n">task</span><span class="p">:</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="p">())</span> <span class="p">{</span> 
        <span class="k">for</span> <span class="kc">_</span> <span class="k">in</span> <span class="mf">0.</span><span class="p">..</span><span class="kc">self</span> <span class="p">{</span> 
            <span class="n">task</span><span class="p">()</span> 
        <span class="p">}</span> 
    <span class="p">}</span> 
<span class="p">}</span> 

<span class="mf">10.</span><span class="n">repetir</span> <span class="p">{</span><span class="bp">print</span><span class="p">(</span><span class="s">&quot;Hola&quot;</span><span class="p">)}</span>
</code></pre></div>

!!! Example "Experimento 17"
    Escribe una extensión para el tipo `Double` que añada una propiedad
    `absoluteValue`.

Puedes usar un nombre de un protocolo de la misma forma que cualquier
otro tipo con nombre; por ejemplo, para crear una colección de objetos
que tienen tipos diferentes pero que cumplen un único
protocolo. Cuando trabajas con valores cuyo tipo es un tipo de
protocolo, no están disponibles los métodos fuera del protocolo.

<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">valorProtocolo</span><span class="p">:</span> <span class="n">ProtocoloEjemplo</span> <span class="p">=</span> <span class="n">a</span>
<span class="bp">print</span><span class="p">(</span><span class="n">valorProtocolo</span><span class="p">.</span><span class="n">descripcionSencilla</span><span class="p">)</span>
<span class="c1">// print(valorProtocolo.otraPropiedad)  // Descomentar para comprobar el error</span>
</code></pre></div>

Incluso aunque la variable `valorProtocolo` tenga un tipo en tiempo de
ejecución de `ClaseSencilla`, el compilador lo trata como uno del tipo
`ProtocoloEjemplo`. De esta forma no es posible acceder
accidentalmente a métodos o propiedades que implemente la clase de
forma adicional al cumplimiento del protocolo.


#### Genéricos 

Escribe un nombre dentro de paréntesis angulares para construir una
función o un tipo genérico.

<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">itemRepetido</span><span class="p">&lt;</span><span class="n">Item</span><span class="p">&gt;(</span><span class="kc">_</span> <span class="n">item</span><span class="p">:</span> <span class="n">Item</span><span class="p">,</span> <span class="n">numeroDeVeces</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="p">[</span><span class="n">Item</span><span class="p">]</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">resultado</span> <span class="p">=</span> <span class="p">[</span><span class="n">Item</span><span class="p">]()</span>
    <span class="k">for</span> <span class="kc">_</span> <span class="k">in</span> <span class="mf">0.</span><span class="p">.&lt;</span><span class="n">numeroDeVeces</span> <span class="p">{</span>
        <span class="n">resultado</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">resultado</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">itemRepetido</span><span class="p">(</span><span class="s">&quot;knock&quot;</span><span class="p">,</span> <span class="n">numeroDeVeces</span><span class="p">:</span><span class="mi">4</span><span class="p">))</span>
</code></pre></div>

Puedes hacer formas genéricas de funciones y métodos, así como de
clases, enumeraciones y estructuras.

<div class="highlight"><pre><span></span><code><span class="c1">// Reimplementamos el tipo Optional de la biblioteca estándar de Swift</span>
<span class="kd">enum</span> <span class="nc">ValorOpcional</span><span class="p">&lt;</span><span class="n">Envuelto</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">ninguno</span>
    <span class="k">case</span> <span class="n">alguno</span><span class="p">(</span><span class="n">Envuelto</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nv">posibleInteger</span><span class="p">:</span> <span class="n">ValorOpcional</span><span class="p">&lt;</span><span class="nb">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="p">.</span><span class="n">ninguno</span>
<span class="n">posibleInteger</span> <span class="p">=</span> <span class="p">.</span><span class="n">alguno</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</code></pre></div>

Es posible usar `where` justo antes del cuerpo para especificar una
lista de requisitos. Por ejemplo, para requerir el tipo que debe
implementar un protocolo, para requerir que dos tipos sean los mismos
o para requerir que una clase tenga una superclase determinada.


<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">elementosComunes</span><span class="p">&lt;</span><span class="n">T</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">U</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">&gt;(</span><span class="kc">_</span> <span class="n">izq</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="kc">_</span> <span class="n">der</span><span class="p">:</span> <span class="n">U</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span>
    <span class="k">where</span> <span class="n">T</span><span class="p">.</span><span class="n">Iterator</span><span class="p">.</span><span class="n">Element</span><span class="p">:</span> <span class="nb">Equatable</span><span class="p">,</span> <span class="n">T</span><span class="p">.</span><span class="n">Iterator</span><span class="p">.</span><span class="n">Element</span> <span class="p">==</span> <span class="n">U</span><span class="p">.</span><span class="n">Iterator</span><span class="p">.</span><span class="n">Element</span> <span class="p">{</span>
        <span class="k">for</span> <span class="n">izqItem</span> <span class="k">in</span> <span class="n">izq</span> <span class="p">{</span>
            <span class="k">for</span> <span class="n">derItem</span> <span class="k">in</span> <span class="n">der</span> <span class="p">{</span>
                <span class="k">if</span> <span class="n">izqItem</span> <span class="p">==</span> <span class="n">derItem</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="kc">true</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="kc">false</span>
<span class="p">}</span>

<span class="bp">print</span><span class="p">(</span><span class="n">elementosComunes</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
</code></pre></div>

Si se escribe `<T: Equatable>` es equivalente a escribir `<T> ... where T: Equatable`.

-->

<h2 id="bibliografia-y-referencias">Bibliografía y referencias<a class="headerlink" href="#bibliografia-y-referencias" title="Permanent link">&para;</a></h2>
<ul>
<li>Documentación sobre Swift<ul>
<li><a href="https://developer.apple.com/library/prerelease/content/documentation/Swift/Conceptual/Swift_Programming_Language/index.html">The Swift Programming Language (html)</a></li>
<li><a href="https://developer.apple.com/swift/resources/">Recursos Swift en Apple</a></li>
<li><a href="https://swift.org">swift.org</a></li>
</ul>
</li>
<li>Swift Open Source<ul>
<li><a href="https://github.com/apple/swift">Repositorio <code>swift</code> en GitHub</a>: repositorio principal de Swift, que contiene el código fuente del compilador Swift, la biblioteca estándar y SourceKit.</li>
<li><a href="https://github.com/apple/swift-evolution">Repositorio <code>swift-evolution</code> en GitHub</a>: documentos relacionados con la evolución continua de Swift, incluyendo objetivos de las próximas versiones y propuestas de cambios y extensiones de Swift.</li>
</ul>
</li>
</ul>
<hr />
<p>Lenguajes y Paradigmas de Programación, curso 2022-23<br />
© Departamento Ciencia de la Computación e Inteligencia Artificial, Universidad de Alicante<br />
Domingo Gallardo, Cristina Pomares, Antonio Botía, Francisco Martínez</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51198bba.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>